; generated by Component: ARM Compiler 5.06 update 1 (build 61) Tool: ArmCC [4d35ad]
; commandline ArmCC [--list --split_sections --debug -c --asm --interleave -o.\flash\obj\app_tcpnet_lib.o --asm_dir=.\Flash\List\ --list_dir=.\Flash\List\ --depend=.\flash\obj\app_tcpnet_lib.d --cpu=Cortex-M4.fp --apcs=interwork -O0 --diag_suppress=9931 -I..\..\Libraries\CMSIS\Include -I..\..\Libraries\CMSIS\Device\ST\STM32F4xx\Include -I..\..\Libraries\STM32F4xx_StdPeriph_Driver\inc -I..\..\RL-ARM\Driver -I..\..\RL-ARM\Config -I..\..\RL-ARM\RL-RTX\inc -I..\..\User\libapp -I..\..\User\bsp\inc -I..\..\User\bsp -I..\..\User -I..\..\Libraries\STM32_USB_Device_Library\Class\dfu\inc -I..\..\Libraries\STM32_USB_Device_Library\Core\inc -D__MICROLIB -D__UVISION_VERSION=518 -D_RTE_ -DSTM32F407xx -DUSE_STDPERIPH_DRIVER -DSTM32F40_41xxx --omf_browse=.\flash\obj\app_tcpnet_lib.crf ..\..\User\libapp\app_tcpnet_lib.c]
                          THUMB

                          AREA ||i.CalcCRC16||, CODE, READONLY, ALIGN=2

                  CalcCRC16 PROC
;;;107    All_PACK SendPack;
;;;108    WORD CalcCRC16(BYTE *pData, WORD wDataLen)
000000  b5f0              PUSH     {r4-r7,lr}
;;;109    {
000002  4602              MOV      r2,r0
000004  460b              MOV      r3,r1
;;;110    		unsigned char uchCRCHi = 0xFF ; 
000006  24ff              MOVS     r4,#0xff
;;;111    		unsigned char uchCRCLo = 0xFF ; 
000008  25ff              MOVS     r5,#0xff
;;;112    		unsigned uIndex ; 			
;;;113    
;;;114    		unsigned short wCRC = 0;
00000a  2000              MOVS     r0,#0
;;;115    		while (wDataLen--) {
00000c  e009              B        |L1.34|
                  |L1.14|
;;;116    			uIndex = uchCRCLo ^ *pData++; 
00000e  f8126b01          LDRB     r6,[r2],#1
000012  ea860105          EOR      r1,r6,r5
;;;117    			uchCRCLo = uchCRCHi ^ auchCRCHi[uIndex]; 
000016  4e07              LDR      r6,|L1.52|
000018  5c76              LDRB     r6,[r6,r1]
00001a  ea860504          EOR      r5,r6,r4
;;;118    			uchCRCHi = auchCRCLo[uIndex] ; 
00001e  4e06              LDR      r6,|L1.56|
000020  5c74              LDRB     r4,[r6,r1]
                  |L1.34|
000022  1e1e              SUBS     r6,r3,#0              ;115
000024  f1a30701          SUB      r7,r3,#1              ;115
000028  b2bb              UXTH     r3,r7                 ;115
00002a  d1f0              BNE      |L1.14|
;;;119    		}
;;;120    
;;;121    		wCRC = (uchCRCHi << 8 | uchCRCLo);
00002c  ea452004          ORR      r0,r5,r4,LSL #8
;;;122    		return wCRC;
;;;123    }
000030  bdf0              POP      {r4-r7,pc}
;;;124    void SendUp(All_PACK *pPack)
                          ENDP

000032  0000              DCW      0x0000
                  |L1.52|
                          DCD      auchCRCHi
                  |L1.56|
                          DCD      auchCRCLo

                          AREA ||i.FinishPack||, CODE, READONLY, ALIGN=1

                  FinishPack PROC
;;;234    }
;;;235    void FinishPack(All_PACK *pPack)
000000  b5f0              PUSH     {r4-r7,lr}
;;;236    {
000002  4604              MOV      r4,r0
;;;237        BYTE i, bt7fCount;
;;;238        WORD wCRC;
;;;239        wCRC = CalcCRC16(pPack->m_pBuffer + C2R_DATA_BEGIN,pPack->m_Len - C2R_DATA_BEGIN);
000004  f8b40100          LDRH     r0,[r4,#0x100]
000008  1e80              SUBS     r0,r0,#2
00000a  b281              UXTH     r1,r0
00000c  1ca0              ADDS     r0,r4,#2
00000e  f7fffffe          BL       CalcCRC16
000012  4607              MOV      r7,r0
;;;240        BYTEToPack((*pPack),wCRC&0xFF);
000014  f89400ff          LDRB     r0,[r4,#0xff]
000018  1c40              ADDS     r0,r0,#1
00001a  28ff              CMP      r0,#0xff
00001c  da05              BGE      |L2.42|
00001e  34ff              ADDS     r4,r4,#0xff
000020  7822              LDRB     r2,[r4,#0]
000022  1c50              ADDS     r0,r2,#1
000024  7020              STRB     r0,[r4,#0]
000026  3cff              SUBS     r4,r4,#0xff
000028  54a7              STRB     r7,[r4,r2]
                  |L2.42|
00002a  f89400ff          LDRB     r0,[r4,#0xff]
00002e  f8a40100          STRH     r0,[r4,#0x100]
;;;241        BYTEToPack((*pPack),(wCRC>>8)&0xFF);
000032  f89400ff          LDRB     r0,[r4,#0xff]
000036  1c40              ADDS     r0,r0,#1
000038  28ff              CMP      r0,#0xff
00003a  da06              BGE      |L2.74|
00003c  0a39              LSRS     r1,r7,#8
00003e  34ff              ADDS     r4,r4,#0xff
000040  7822              LDRB     r2,[r4,#0]
000042  1c50              ADDS     r0,r2,#1
000044  7020              STRB     r0,[r4,#0]
000046  3cff              SUBS     r4,r4,#0xff
000048  54a1              STRB     r1,[r4,r2]
                  |L2.74|
00004a  f89400ff          LDRB     r0,[r4,#0xff]
00004e  f8a40100          STRH     r0,[r4,#0x100]
;;;242        bt7fCount = 0;
000052  2600              MOVS     r6,#0
;;;243        for (i = C2R_DATA_BEGIN; i < pPack->m_Len; ++i) 
000054  2502              MOVS     r5,#2
000056  e006              B        |L2.102|
                  |L2.88|
;;;244        {
;;;245                if (pPack->m_pBuffer[i] == 0x7F) 
000058  5d60              LDRB     r0,[r4,r5]
00005a  287f              CMP      r0,#0x7f
00005c  d101              BNE      |L2.98|
;;;246                {
;;;247                        ++bt7fCount;
00005e  1c70              ADDS     r0,r6,#1
000060  b2c6              UXTB     r6,r0
                  |L2.98|
000062  1c68              ADDS     r0,r5,#1              ;243
000064  b2c5              UXTB     r5,r0                 ;243
                  |L2.102|
000066  f8b40100          LDRH     r0,[r4,#0x100]        ;243
00006a  42a8              CMP      r0,r5                 ;243
00006c  dcf4              BGT      |L2.88|
;;;248                }
;;;249        }
;;;250    
;;;251        if (bt7fCount > 0) 
00006e  2e00              CMP      r6,#0
000070  dd1c              BLE      |L2.172|
;;;252        {
;;;253                pPack->m_Len += bt7fCount;
000072  f8b40100          LDRH     r0,[r4,#0x100]
000076  4430              ADD      r0,r0,r6
000078  f8a40100          STRH     r0,[r4,#0x100]
;;;254                for (i = pPack->m_Len - 1 - bt7fCount; i >= C2R_DATA_BEGIN; --i) 
00007c  f8940100          LDRB     r0,[r4,#0x100]
000080  1e40              SUBS     r0,r0,#1
000082  1b80              SUBS     r0,r0,r6
000084  b2c5              UXTB     r5,r0
000086  e00e              B        |L2.166|
                  |L2.136|
;;;255                {
;;;256                        
;;;257                        if (pPack->m_pBuffer[i] == 0x7F) 
000088  5d60              LDRB     r0,[r4,r5]
00008a  287f              CMP      r0,#0x7f
00008c  d104              BNE      |L2.152|
;;;258                        {
;;;259                                pPack->m_pBuffer[i + bt7fCount] = 0x81;
00008e  2081              MOVS     r0,#0x81
000090  19a9              ADDS     r1,r5,r6
000092  5460              STRB     r0,[r4,r1]
;;;260                                --bt7fCount;
000094  1e70              SUBS     r0,r6,#1
000096  b2c6              UXTB     r6,r0
                  |L2.152|
;;;261                        }
;;;262                        // ????
;;;263                        if (bt7fCount == 0) 
000098  b906              CBNZ     r6,|L2.156|
;;;264                        {
;;;265                                break;
00009a  e006              B        |L2.170|
                  |L2.156|
;;;266                        }
;;;267                        pPack->m_pBuffer[i + bt7fCount] = pPack->m_pBuffer[i];
00009c  5d60              LDRB     r0,[r4,r5]
00009e  19a9              ADDS     r1,r5,r6
0000a0  5460              STRB     r0,[r4,r1]
0000a2  1e68              SUBS     r0,r5,#1              ;254
0000a4  b2c5              UXTB     r5,r0                 ;254
                  |L2.166|
0000a6  2d02              CMP      r5,#2                 ;254
0000a8  daee              BGE      |L2.136|
                  |L2.170|
0000aa  bf00              NOP                            ;265
                  |L2.172|
;;;268                } // end for
;;;269        } // end if
;;;270        pPack->m_pBuffer[pPack->m_Len] = 0x7F;
0000ac  207f              MOVS     r0,#0x7f
0000ae  f8b41100          LDRH     r1,[r4,#0x100]
0000b2  5460              STRB     r0,[r4,r1]
;;;271        pPack->m_pBuffer[pPack->m_Len + 1] = 0x7F;
0000b4  217f              MOVS     r1,#0x7f
0000b6  f8b40100          LDRH     r0,[r4,#0x100]
0000ba  1c40              ADDS     r0,r0,#1
0000bc  5421              STRB     r1,[r4,r0]
;;;272        pPack->m_Len += 2;
0000be  f8b40100          LDRH     r0,[r4,#0x100]
0000c2  1c80              ADDS     r0,r0,#2
0000c4  f8a40100          STRH     r0,[r4,#0x100]
;;;273    }
0000c8  bdf0              POP      {r4-r7,pc}
;;;274    BYTE btValue[5];
                          ENDP


                          AREA ||i.NVIC_SystemReset||, CODE, READONLY, ALIGN=2

                  NVIC_SystemReset PROC
;;;1664    */
;;;1665   __STATIC_INLINE void NVIC_SystemReset(void)
000000  f3bf8f4f          DSB      
;;;1666   {
;;;1667     __DSB();                                                     /* Ensure all outstanding memory accesses included
;;;1668                                                                     buffered write are completed before reset */
;;;1669     SCB->AIRCR  = ((0x5FA << SCB_AIRCR_VECTKEY_Pos)      |
000004  4806              LDR      r0,|L3.32|
000006  6800              LDR      r0,[r0,#0]
000008  f40060e0          AND      r0,r0,#0x700
00000c  4905              LDR      r1,|L3.36|
00000e  4308              ORRS     r0,r0,r1
000010  1d00              ADDS     r0,r0,#4
000012  4903              LDR      r1,|L3.32|
000014  6008              STR      r0,[r1,#0]
;;;1670                    (SCB->AIRCR & SCB_AIRCR_PRIGROUP_Msk) |
;;;1671                    SCB_AIRCR_SYSRESETREQ_Msk);                   /* Keep priority group unchanged */
;;;1672     __DSB();                                                     /* Ensure completion of memory access */
000016  f3bf8f4f          DSB      
;;;1673     while(1);                                                    /* wait until reset */
00001a  bf00              NOP      
                  |L3.28|
00001c  e7fe              B        |L3.28|
;;;1674   }
;;;1675   
                          ENDP

00001e  0000              DCW      0x0000
                  |L3.32|
                          DCD      0xe000ed0c
                  |L3.36|
                          DCD      0x05fa0000

                          AREA ||i.ProcessData||, CODE, READONLY, ALIGN=2

                  ProcessData PROC
;;;152    
;;;153    void ProcessData(COMMTYPE COM,unsigned char c)
000000  b5f0              PUSH     {r4-r7,lr}
;;;154    {
;;;155        unsigned char i;
;;;156        switch(gComSet[COM].m_btRecvState)
000002  eb0013c0          ADD      r3,r0,r0,LSL #7
000006  eb032340          ADD      r3,r3,r0,LSL #9
00000a  4cce              LDR      r4,|L4.836|
00000c  eb040343          ADD      r3,r4,r3,LSL #1
000010  f89331f9          LDRB     r3,[r3,#0x1f9]
000014  b133              CBZ      r3,|L4.36|
000016  2b01              CMP      r3,#1
000018  d011              BEQ      |L4.62|
00001a  2b02              CMP      r3,#2
00001c  d030              BEQ      |L4.128|
00001e  2b03              CMP      r3,#3
000020  d17d              BNE      |L4.286|
000022  e07d              B        |L4.288|
                  |L4.36|
;;;157        {
;;;158        case 0:        
;;;159            if (c == 0x7F)
000024  297f              CMP      r1,#0x7f
000026  d109              BNE      |L4.60|
;;;160            {
;;;161                gComSet[COM].m_btRecvState = 1;
000028  2301              MOVS     r3,#1
00002a  eb0014c0          ADD      r4,r0,r0,LSL #7
00002e  eb042440          ADD      r4,r4,r0,LSL #9
000032  4dc4              LDR      r5,|L4.836|
000034  eb050444          ADD      r4,r5,r4,LSL #1
000038  f88431f9          STRB     r3,[r4,#0x1f9]
                  |L4.60|
;;;162            }
;;;163            break;
00003c  e17f              B        |L4.830|
                  |L4.62|
;;;164        case 1:         
;;;165            if (c == 0x7F)
00003e  297f              CMP      r1,#0x7f
000040  d113              BNE      |L4.106|
;;;166            {
;;;167                gComSet[COM].m_btRecvState = 2;
000042  2302              MOVS     r3,#2
000044  eb0014c0          ADD      r4,r0,r0,LSL #7
000048  eb042440          ADD      r4,r4,r0,LSL #9
00004c  4dbd              LDR      r5,|L4.836|
00004e  eb050444          ADD      r4,r5,r4,LSL #1
000052  f88431f9          STRB     r3,[r4,#0x1f9]
;;;168                gComSet[COM].m_RecvLen = 0;
000056  2300              MOVS     r3,#0
000058  eb0014c0          ADD      r4,r0,r0,LSL #7
00005c  eb042440          ADD      r4,r4,r0,LSL #9
000060  eb050444          ADD      r4,r5,r4,LSL #1
000064  f88431f8          STRB     r3,[r4,#0x1f8]
000068  e009              B        |L4.126|
                  |L4.106|
;;;169            }
;;;170            else
;;;171            {
;;;172                gComSet[COM].m_btRecvState = 0;
00006a  2300              MOVS     r3,#0
00006c  eb0014c0          ADD      r4,r0,r0,LSL #7
000070  eb042440          ADD      r4,r4,r0,LSL #9
000074  4db3              LDR      r5,|L4.836|
000076  eb050444          ADD      r4,r5,r4,LSL #1
00007a  f88431f9          STRB     r3,[r4,#0x1f9]
                  |L4.126|
;;;173            }
;;;174            break;
00007e  e15e              B        |L4.830|
                  |L4.128|
;;;175        case 2:
;;;176            if (c == 0x7F)
000080  297f              CMP      r1,#0x7f
000082  d10a              BNE      |L4.154|
;;;177            {
;;;178                gComSet[COM].m_btRecvState = 3;        //??0x81
000084  2303              MOVS     r3,#3
000086  eb0014c0          ADD      r4,r0,r0,LSL #7
00008a  eb042440          ADD      r4,r4,r0,LSL #9
00008e  4dad              LDR      r5,|L4.836|
000090  eb050444          ADD      r4,r5,r4,LSL #1
000094  f88431f9          STRB     r3,[r4,#0x1f9]
000098  e040              B        |L4.284|
                  |L4.154|
;;;179            }
;;;180            else
;;;181            {
;;;182                gComSet[COM].m_RecvCache[gComSet[COM].m_RecvLen++] = c;
00009a  eb0013c0          ADD      r3,r0,r0,LSL #7
00009e  eb032340          ADD      r3,r3,r0,LSL #9
0000a2  4ca8              LDR      r4,|L4.836|
0000a4  eb040343          ADD      r3,r4,r3,LSL #1
0000a8  f89341f8          LDRB     r4,[r3,#0x1f8]
0000ac  eb0013c0          ADD      r3,r0,r0,LSL #7
0000b0  eb032340          ADD      r3,r3,r0,LSL #9
0000b4  4da3              LDR      r5,|L4.836|
0000b6  eb050343          ADD      r3,r5,r3,LSL #1
0000ba  f89331f8          LDRB     r3,[r3,#0x1f8]
0000be  1c5b              ADDS     r3,r3,#1
0000c0  eb0015c0          ADD      r5,r0,r0,LSL #7
0000c4  eb052540          ADD      r5,r5,r0,LSL #9
0000c8  4e9e              LDR      r6,|L4.836|
0000ca  eb060545          ADD      r5,r6,r5,LSL #1
0000ce  f88531f8          STRB     r3,[r5,#0x1f8]
0000d2  eb0013c0          ADD      r3,r0,r0,LSL #7
0000d6  eb032340          ADD      r3,r3,r0,LSL #9
0000da  4635              MOV      r5,r6
0000dc  eb050343          ADD      r3,r5,r3,LSL #1
0000e0  33fd              ADDS     r3,r3,#0xfd
0000e2  5519              STRB     r1,[r3,r4]
;;;183                if (gComSet[COM].m_RecvLen >= COM_BUFFER_SIZE)
0000e4  eb0013c0          ADD      r3,r0,r0,LSL #7
0000e8  eb032340          ADD      r3,r3,r0,LSL #9
0000ec  462c              MOV      r4,r5
0000ee  eb040343          ADD      r3,r4,r3,LSL #1
0000f2  f89331f8          LDRB     r3,[r3,#0x1f8]
0000f6  2bfa              CMP      r3,#0xfa
0000f8  db10              BLT      |L4.284|
;;;184                {
;;;185                    gComSet[COM].m_btRecvState = 0;
0000fa  2300              MOVS     r3,#0
0000fc  eb0014c0          ADD      r4,r0,r0,LSL #7
000100  eb042440          ADD      r4,r4,r0,LSL #9
000104  eb050444          ADD      r4,r5,r4,LSL #1
000108  f88431f9          STRB     r3,[r4,#0x1f9]
;;;186                    gComSet[COM].m_RecvLen = 0;
00010c  eb0014c0          ADD      r4,r0,r0,LSL #7
000110  eb042440          ADD      r4,r4,r0,LSL #9
000114  eb050444          ADD      r4,r5,r4,LSL #1
000118  f88431f8          STRB     r3,[r4,#0x1f8]
                  |L4.284|
;;;187                }
;;;188            }
;;;189            break;
00011c  e10f              B        |L4.830|
                  |L4.286|
00011e  e10d              B        |L4.828|
                  |L4.288|
;;;190        case 3:
;;;191            if (c == 0x81)
000120  2981              CMP      r1,#0x81
000122  d14e              BNE      |L4.450|
;;;192            {
;;;193                gComSet[COM].m_RecvCache[gComSet[COM].m_RecvLen++] = 0x7F;
000124  247f              MOVS     r4,#0x7f
000126  eb0013c0          ADD      r3,r0,r0,LSL #7
00012a  eb032340          ADD      r3,r3,r0,LSL #9
00012e  4d85              LDR      r5,|L4.836|
000130  eb050343          ADD      r3,r5,r3,LSL #1
000134  f89351f8          LDRB     r5,[r3,#0x1f8]
000138  eb0013c0          ADD      r3,r0,r0,LSL #7
00013c  eb032340          ADD      r3,r3,r0,LSL #9
000140  4e80              LDR      r6,|L4.836|
000142  eb060343          ADD      r3,r6,r3,LSL #1
000146  f89331f8          LDRB     r3,[r3,#0x1f8]
00014a  1c5b              ADDS     r3,r3,#1
00014c  eb0016c0          ADD      r6,r0,r0,LSL #7
000150  eb062640          ADD      r6,r6,r0,LSL #9
000154  4f7b              LDR      r7,|L4.836|
000156  eb070646          ADD      r6,r7,r6,LSL #1
00015a  f88631f8          STRB     r3,[r6,#0x1f8]
00015e  eb0013c0          ADD      r3,r0,r0,LSL #7
000162  eb032340          ADD      r3,r3,r0,LSL #9
000166  463e              MOV      r6,r7
000168  eb060343          ADD      r3,r6,r3,LSL #1
00016c  33fd              ADDS     r3,r3,#0xfd
00016e  555c              STRB     r4,[r3,r5]
;;;194                if (gComSet[COM].m_RecvLen >= COM_BUFFER_SIZE)
000170  eb0013c0          ADD      r3,r0,r0,LSL #7
000174  eb032340          ADD      r3,r3,r0,LSL #9
000178  4634              MOV      r4,r6
00017a  eb040343          ADD      r3,r4,r3,LSL #1
00017e  f89331f8          LDRB     r3,[r3,#0x1f8]
000182  2bfa              CMP      r3,#0xfa
000184  db12              BLT      |L4.428|
;;;195                {
;;;196                    gComSet[COM].m_btRecvState = 0;
000186  2300              MOVS     r3,#0
000188  eb0014c0          ADD      r4,r0,r0,LSL #7
00018c  eb042440          ADD      r4,r4,r0,LSL #9
000190  4635              MOV      r5,r6
000192  eb050444          ADD      r4,r5,r4,LSL #1
000196  f88431f9          STRB     r3,[r4,#0x1f9]
;;;197                    gComSet[COM].m_RecvLen = 0;
00019a  eb0014c0          ADD      r4,r0,r0,LSL #7
00019e  eb042440          ADD      r4,r4,r0,LSL #9
0001a2  eb050444          ADD      r4,r5,r4,LSL #1
0001a6  f88431f8          STRB     r3,[r4,#0x1f8]
0001aa  e0c6              B        |L4.826|
                  |L4.428|
;;;198                }
;;;199                else
;;;200                {
;;;201                    gComSet[COM].m_btRecvState = 2;
0001ac  2302              MOVS     r3,#2
0001ae  eb0014c0          ADD      r4,r0,r0,LSL #7
0001b2  eb042440          ADD      r4,r4,r0,LSL #9
0001b6  4d63              LDR      r5,|L4.836|
0001b8  eb050444          ADD      r4,r5,r4,LSL #1
0001bc  f88431f9          STRB     r3,[r4,#0x1f9]
0001c0  e0bb              B        |L4.826|
                  |L4.450|
;;;202                }
;;;203            }
;;;204            else if (c == 0x7F)
0001c2  297f              CMP      r1,#0x7f
0001c4  d17d              BNE      |L4.706|
;;;205            {
;;;206                if (gComSet[COM].m_RecvLen == 0)
0001c6  eb0013c0          ADD      r3,r0,r0,LSL #7
0001ca  eb032340          ADD      r3,r3,r0,LSL #9
0001ce  4c5d              LDR      r4,|L4.836|
0001d0  eb040343          ADD      r3,r4,r3,LSL #1
0001d4  f89331f8          LDRB     r3,[r3,#0x1f8]
0001d8  b953              CBNZ     r3,|L4.496|
;;;207                {
;;;208                    gComSet[COM].m_btRecvState = 2;
0001da  2302              MOVS     r3,#2
0001dc  eb0014c0          ADD      r4,r0,r0,LSL #7
0001e0  eb042440          ADD      r4,r4,r0,LSL #9
0001e4  4d57              LDR      r5,|L4.836|
0001e6  eb050444          ADD      r4,r5,r4,LSL #1
0001ea  f88431f9          STRB     r3,[r4,#0x1f9]
0001ee  e0a4              B        |L4.826|
                  |L4.496|
;;;209                }
;;;210                else
;;;211                {
;;;212                    gComSet[COM].m_RecvPack[gComSet[COM].m_PushIndex].m_Len = gComSet[COM].m_RecvLen;
0001f0  eb0013c0          ADD      r3,r0,r0,LSL #7
0001f4  eb032340          ADD      r3,r3,r0,LSL #9
0001f8  4c52              LDR      r4,|L4.836|
0001fa  eb040343          ADD      r3,r4,r3,LSL #1
0001fe  f89341f8          LDRB     r4,[r3,#0x1f8]
000202  eb0013c0          ADD      r3,r0,r0,LSL #7
000206  eb032340          ADD      r3,r3,r0,LSL #9
00020a  4d4e              LDR      r5,|L4.836|
00020c  eb050343          ADD      r3,r5,r3,LSL #1
000210  f50373fd          ADD      r3,r3,#0x1fa
000214  eb0015c0          ADD      r5,r0,r0,LSL #7
000218  eb052540          ADD      r5,r5,r0,LSL #9
00021c  4e49              LDR      r6,|L4.836|
00021e  eb060545          ADD      r5,r6,r5,LSL #1
000222  f8955500          LDRB     r5,[r5,#0x500]
000226  eb0515c5          ADD      r5,r5,r5,LSL #7
00022a  eb030345          ADD      r3,r3,r5,LSL #1
00022e  f8a34100          STRH     r4,[r3,#0x100]
;;;213                    gComSet[COM].m_RecvPack[gComSet[COM].m_PushIndex].m_Pos = 0;                
000232  2400              MOVS     r4,#0
000234  eb0013c0          ADD      r3,r0,r0,LSL #7
000238  eb032340          ADD      r3,r3,r0,LSL #9
00023c  4635              MOV      r5,r6
00023e  eb050343          ADD      r3,r5,r3,LSL #1
000242  f50373fd          ADD      r3,r3,#0x1fa
000246  eb0015c0          ADD      r5,r0,r0,LSL #7
00024a  eb052540          ADD      r5,r5,r0,LSL #9
00024e  eb060545          ADD      r5,r6,r5,LSL #1
000252  f8955500          LDRB     r5,[r5,#0x500]
000256  eb0515c5          ADD      r5,r5,r5,LSL #7
00025a  eb030345          ADD      r3,r3,r5,LSL #1
00025e  f88340ff          STRB     r4,[r3,#0xff]
;;;214                    for (i=0;i<gComSet[COM].m_RecvLen;i++)
000262  2200              MOVS     r2,#0
000264  e021              B        |L4.682|
                  |L4.614|
;;;215                    {
;;;216                        gComSet[COM].m_RecvPack[gComSet[COM].m_PushIndex].m_pBuffer[i] = gComSet[COM].m_RecvCache[i];
000266  eb0013c0          ADD      r3,r0,r0,LSL #7
00026a  eb032340          ADD      r3,r3,r0,LSL #9
00026e  4c35              LDR      r4,|L4.836|
000270  eb040343          ADD      r3,r4,r3,LSL #1
000274  33fd              ADDS     r3,r3,#0xfd
000276  5c9c              LDRB     r4,[r3,r2]
000278  eb0013c0          ADD      r3,r0,r0,LSL #7
00027c  eb032340          ADD      r3,r3,r0,LSL #9
000280  4d30              LDR      r5,|L4.836|
000282  eb050343          ADD      r3,r5,r3,LSL #1
000286  f50373fd          ADD      r3,r3,#0x1fa
00028a  eb0015c0          ADD      r5,r0,r0,LSL #7
00028e  eb052540          ADD      r5,r5,r0,LSL #9
000292  4e2c              LDR      r6,|L4.836|
000294  eb060545          ADD      r5,r6,r5,LSL #1
000298  f8955500          LDRB     r5,[r5,#0x500]
00029c  eb0515c5          ADD      r5,r5,r5,LSL #7
0002a0  eb030345          ADD      r3,r3,r5,LSL #1
0002a4  549c              STRB     r4,[r3,r2]
0002a6  1c53              ADDS     r3,r2,#1              ;214
0002a8  b2da              UXTB     r2,r3                 ;214
                  |L4.682|
0002aa  eb0013c0          ADD      r3,r0,r0,LSL #7       ;214
0002ae  eb032340          ADD      r3,r3,r0,LSL #9       ;214
0002b2  4c24              LDR      r4,|L4.836|
0002b4  eb040343          ADD      r3,r4,r3,LSL #1       ;214
0002b8  f89331f8          LDRB     r3,[r3,#0x1f8]        ;214
0002bc  4293              CMP      r3,r2                 ;214
0002be  dcd2              BGT      |L4.614|
;;;217                    }
;;;218                    gComSet[COM].m_PushIndex++;
0002c0  e000              B        |L4.708|
                  |L4.706|
0002c2  e030              B        |L4.806|
                  |L4.708|
0002c4  eb0013c0          ADD      r3,r0,r0,LSL #7
0002c8  eb032340          ADD      r3,r3,r0,LSL #9
0002cc  eb040343          ADD      r3,r4,r3,LSL #1
0002d0  f8933500          LDRB     r3,[r3,#0x500]
0002d4  1c5b              ADDS     r3,r3,#1
0002d6  eb0014c0          ADD      r4,r0,r0,LSL #7
0002da  eb042440          ADD      r4,r4,r0,LSL #9
0002de  4d19              LDR      r5,|L4.836|
0002e0  eb050444          ADD      r4,r5,r4,LSL #1
0002e4  f8843500          STRB     r3,[r4,#0x500]
;;;219                    if (gComSet[COM].m_PushIndex >= COM_CACHE_PACK_COUNT)
0002e8  eb0013c0          ADD      r3,r0,r0,LSL #7
0002ec  eb032340          ADD      r3,r3,r0,LSL #9
0002f0  462c              MOV      r4,r5
0002f2  eb040343          ADD      r3,r4,r3,LSL #1
0002f6  f8933500          LDRB     r3,[r3,#0x500]
0002fa  2b03              CMP      r3,#3
0002fc  db08              BLT      |L4.784|
;;;220                    {
;;;221                        gComSet[COM].m_PushIndex = 0;
0002fe  2300              MOVS     r3,#0
000300  eb0014c0          ADD      r4,r0,r0,LSL #7
000304  eb042440          ADD      r4,r4,r0,LSL #9
000308  eb050444          ADD      r4,r5,r4,LSL #1
00030c  f8843500          STRB     r3,[r4,#0x500]
                  |L4.784|
;;;222                    }
;;;223                    gComSet[COM].m_btRecvState = 0;
000310  2300              MOVS     r3,#0
000312  eb0014c0          ADD      r4,r0,r0,LSL #7
000316  eb042440          ADD      r4,r4,r0,LSL #9
00031a  4d0a              LDR      r5,|L4.836|
00031c  eb050444          ADD      r4,r5,r4,LSL #1
000320  f88431f9          STRB     r3,[r4,#0x1f9]
000324  e009              B        |L4.826|
                  |L4.806|
;;;224                }
;;;225            }
;;;226            else
;;;227            {
;;;228                gComSet[COM].m_btRecvState = 0;
000326  2300              MOVS     r3,#0
000328  eb0014c0          ADD      r4,r0,r0,LSL #7
00032c  eb042440          ADD      r4,r4,r0,LSL #9
000330  4d04              LDR      r5,|L4.836|
000332  eb050444          ADD      r4,r5,r4,LSL #1
000336  f88431f9          STRB     r3,[r4,#0x1f9]
                  |L4.826|
;;;229            }
;;;230            break;
00033a  e000              B        |L4.830|
                  |L4.828|
;;;231        default:
;;;232            break;
00033c  bf00              NOP      
                  |L4.830|
00033e  bf00              NOP                            ;163
;;;233        }  
;;;234    }
000340  bdf0              POP      {r4-r7,pc}
;;;235    void FinishPack(All_PACK *pPack)
                          ENDP

000342  0000              DCW      0x0000
                  |L4.836|
                          DCD      gComSet

                          AREA ||i.ProcessUpCmd||, CODE, READONLY, ALIGN=2

                  ProcessUpCmd PROC
;;;275    BYTE Data[200];
;;;276    void ProcessUpCmd(All_PACK *pack)
000000  e92d43f8          PUSH     {r3-r9,lr}
;;;277    {
000004  4604              MOV      r4,r0
;;;278        DWORD dwStart;
;;;279        uint32_t flashdestination;
;;;280        BYTE btCmd, i;
;;;281        DWORD dwAddress;
;;;282        BYTEFromPack((*pack), btCmd);
000006  f89400ff          LDRB     r0,[r4,#0xff]
00000a  1c40              ADDS     r0,r0,#1
00000c  f8b41100          LDRH     r1,[r4,#0x100]
000010  4288              CMP      r0,r1
000012  dc06              BGT      |L5.34|
000014  34ff              ADDS     r4,r4,#0xff
000016  7821              LDRB     r1,[r4,#0]
000018  1c48              ADDS     r0,r1,#1
00001a  7020              STRB     r0,[r4,#0]
00001c  3cff              SUBS     r4,r4,#0xff
00001e  5c67              LDRB     r7,[r4,r1]
000020  e000              B        |L5.36|
                  |L5.34|
000022  2700              MOVS     r7,#0
                  |L5.36|
;;;283        BYTEFromPack((*pack), btCmd);
000024  f89400ff          LDRB     r0,[r4,#0xff]
000028  1c40              ADDS     r0,r0,#1
00002a  f8b41100          LDRH     r1,[r4,#0x100]
00002e  4288              CMP      r0,r1
000030  dc06              BGT      |L5.64|
000032  34ff              ADDS     r4,r4,#0xff
000034  7821              LDRB     r1,[r4,#0]
000036  1c48              ADDS     r0,r1,#1
000038  7020              STRB     r0,[r4,#0]
00003a  3cff              SUBS     r4,r4,#0xff
00003c  5c67              LDRB     r7,[r4,r1]
00003e  e000              B        |L5.66|
                  |L5.64|
000040  2700              MOVS     r7,#0
                  |L5.66|
;;;284    
;;;285        InitPack(SendPack);
000042  2000              MOVS     r0,#0
000044  49fe              LDR      r1,|L5.1088|
000046  f88100ff          STRB     r0,[r1,#0xff]
00004a  f8a10100          STRH     r0,[r1,#0x100]
00004e  7008              STRB     r0,[r1,#0]
;;;286        BYTEFromPack((*pack), btCmd);
000050  f89400ff          LDRB     r0,[r4,#0xff]
000054  1c40              ADDS     r0,r0,#1
000056  f8b41100          LDRH     r1,[r4,#0x100]
00005a  4288              CMP      r0,r1
00005c  dc06              BGT      |L5.108|
00005e  34ff              ADDS     r4,r4,#0xff
000060  7821              LDRB     r1,[r4,#0]
000062  1c48              ADDS     r0,r1,#1
000064  7020              STRB     r0,[r4,#0]
000066  3cff              SUBS     r4,r4,#0xff
000068  5c67              LDRB     r7,[r4,r1]
00006a  e000              B        |L5.110|
                  |L5.108|
00006c  2700              MOVS     r7,#0
                  |L5.110|
;;;287        switch(btCmd)
00006e  2ff0              CMP      r7,#0xf0
000070  d006              BEQ      |L5.128|
000072  2ff1              CMP      r7,#0xf1
000074  d07e              BEQ      |L5.372|
000076  2ff2              CMP      r7,#0xf2
000078  d07d              BEQ      |L5.374|
00007a  2ff3              CMP      r7,#0xf3
00007c  d17c              BNE      |L5.376|
00007e  e3f7              B        |L5.2160|
                  |L5.128|
;;;288        {
;;;289        case CMD_GET_READER_APPVERSION:
;;;290           BYTEFromPack((*pack), btValue[0]);
000080  f89400ff          LDRB     r0,[r4,#0xff]
000084  1c40              ADDS     r0,r0,#1
000086  f8b41100          LDRH     r1,[r4,#0x100]
00008a  4288              CMP      r0,r1
00008c  dc08              BGT      |L5.160|
00008e  34ff              ADDS     r4,r4,#0xff
000090  7821              LDRB     r1,[r4,#0]
000092  1c48              ADDS     r0,r1,#1
000094  7020              STRB     r0,[r4,#0]
000096  3cff              SUBS     r4,r4,#0xff
000098  5c60              LDRB     r0,[r4,r1]
00009a  49ea              LDR      r1,|L5.1092|
00009c  7008              STRB     r0,[r1,#0]
00009e  e002              B        |L5.166|
                  |L5.160|
0000a0  2000              MOVS     r0,#0
0000a2  49e8              LDR      r1,|L5.1092|
0000a4  7008              STRB     r0,[r1,#0]
                  |L5.166|
;;;291            BYTEFromPack((*pack), btValue[1]);
0000a6  f89400ff          LDRB     r0,[r4,#0xff]
0000aa  1c40              ADDS     r0,r0,#1
0000ac  f8b41100          LDRH     r1,[r4,#0x100]
0000b0  4288              CMP      r0,r1
0000b2  dc08              BGT      |L5.198|
0000b4  34ff              ADDS     r4,r4,#0xff
0000b6  7821              LDRB     r1,[r4,#0]
0000b8  1c48              ADDS     r0,r1,#1
0000ba  7020              STRB     r0,[r4,#0]
0000bc  3cff              SUBS     r4,r4,#0xff
0000be  5c60              LDRB     r0,[r4,r1]
0000c0  49e0              LDR      r1,|L5.1092|
0000c2  7048              STRB     r0,[r1,#1]
0000c4  e002              B        |L5.204|
                  |L5.198|
0000c6  2000              MOVS     r0,#0
0000c8  49de              LDR      r1,|L5.1092|
0000ca  7048              STRB     r0,[r1,#1]
                  |L5.204|
;;;292            BYTEFromPack((*pack), btValue[2]);
0000cc  f89400ff          LDRB     r0,[r4,#0xff]
0000d0  1c40              ADDS     r0,r0,#1
0000d2  f8b41100          LDRH     r1,[r4,#0x100]
0000d6  4288              CMP      r0,r1
0000d8  dc08              BGT      |L5.236|
0000da  34ff              ADDS     r4,r4,#0xff
0000dc  7821              LDRB     r1,[r4,#0]
0000de  1c48              ADDS     r0,r1,#1
0000e0  7020              STRB     r0,[r4,#0]
0000e2  3cff              SUBS     r4,r4,#0xff
0000e4  5c60              LDRB     r0,[r4,r1]
0000e6  49d7              LDR      r1,|L5.1092|
0000e8  7088              STRB     r0,[r1,#2]
0000ea  e002              B        |L5.242|
                  |L5.236|
0000ec  2000              MOVS     r0,#0
0000ee  49d5              LDR      r1,|L5.1092|
0000f0  7088              STRB     r0,[r1,#2]
                  |L5.242|
;;;293            BYTEFromPack((*pack), btValue[3]);
0000f2  f89400ff          LDRB     r0,[r4,#0xff]
0000f6  1c40              ADDS     r0,r0,#1
0000f8  f8b41100          LDRH     r1,[r4,#0x100]
0000fc  4288              CMP      r0,r1
0000fe  dc08              BGT      |L5.274|
000100  34ff              ADDS     r4,r4,#0xff
000102  7821              LDRB     r1,[r4,#0]
000104  1c48              ADDS     r0,r1,#1
000106  7020              STRB     r0,[r4,#0]
000108  3cff              SUBS     r4,r4,#0xff
00010a  5c60              LDRB     r0,[r4,r1]
00010c  49cd              LDR      r1,|L5.1092|
00010e  70c8              STRB     r0,[r1,#3]
000110  e002              B        |L5.280|
                  |L5.274|
000112  2000              MOVS     r0,#0
000114  49cb              LDR      r1,|L5.1092|
000116  70c8              STRB     r0,[r1,#3]
                  |L5.280|
;;;294            BYTEFromPack((*pack), btValue[4]);
000118  f89400ff          LDRB     r0,[r4,#0xff]
00011c  1c40              ADDS     r0,r0,#1
00011e  f8b41100          LDRH     r1,[r4,#0x100]
000122  4288              CMP      r0,r1
000124  dc08              BGT      |L5.312|
000126  34ff              ADDS     r4,r4,#0xff
000128  7821              LDRB     r1,[r4,#0]
00012a  1c48              ADDS     r0,r1,#1
00012c  7020              STRB     r0,[r4,#0]
00012e  3cff              SUBS     r4,r4,#0xff
000130  5c60              LDRB     r0,[r4,r1]
000132  49c4              LDR      r1,|L5.1092|
000134  7108              STRB     r0,[r1,#4]
000136  e002              B        |L5.318|
                  |L5.312|
000138  2000              MOVS     r0,#0
00013a  49c2              LDR      r1,|L5.1092|
00013c  7108              STRB     r0,[r1,#4]
                  |L5.318|
;;;295            if (btValue[0] == 'B' && btValue[1] == 'L' && btValue[2] == 'K' && btValue[3] == 'E' && btValue[4] == 'Y')
00013e  48c1              LDR      r0,|L5.1092|
000140  7800              LDRB     r0,[r0,#0]  ; btValue
000142  2842              CMP      r0,#0x42
                  |L5.324|
000144  d17d              BNE      |L5.578|
000146  48bf              LDR      r0,|L5.1092|
000148  7840              LDRB     r0,[r0,#1]  ; btValue
00014a  284c              CMP      r0,#0x4c
00014c  d1fa              BNE      |L5.324|
00014e  48bd              LDR      r0,|L5.1092|
000150  7880              LDRB     r0,[r0,#2]  ; btValue
000152  284b              CMP      r0,#0x4b
000154  d1f6              BNE      |L5.324|
000156  48bb              LDR      r0,|L5.1092|
000158  78c0              LDRB     r0,[r0,#3]  ; btValue
00015a  2845              CMP      r0,#0x45
00015c  d1f2              BNE      |L5.324|
00015e  48b9              LDR      r0,|L5.1092|
000160  7900              LDRB     r0,[r0,#4]  ; btValue
000162  2859              CMP      r0,#0x59
000164  d1ee              BNE      |L5.324|
;;;296            {
;;;297                PUSHPackHeader(SendPack);
000166  48b6              LDR      r0,|L5.1088|
000168  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
00016c  1c40              ADDS     r0,r0,#1
00016e  28ff              CMP      r0,#0xff
000170  da0f              BGE      |L5.402|
000172  e002              B        |L5.378|
                  |L5.372|
000174  e130              B        |L5.984|
                  |L5.374|
000176  e275              B        |L5.1636|
                  |L5.376|
000178  e3fd              B        |L5.2422|
                  |L5.378|
00017a  227f              MOVS     r2,#0x7f
00017c  48b0              LDR      r0,|L5.1088|
00017e  f89010ff          LDRB     r1,[r0,#0xff]  ; SendPack
000182  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000186  1c40              ADDS     r0,r0,#1
000188  4bad              LDR      r3,|L5.1088|
00018a  f88300ff          STRB     r0,[r3,#0xff]
00018e  4618              MOV      r0,r3
000190  5442              STRB     r2,[r0,r1]
                  |L5.402|
000192  48ab              LDR      r0,|L5.1088|
000194  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000198  49a9              LDR      r1,|L5.1088|
00019a  f8a10100          STRH     r0,[r1,#0x100]
00019e  4608              MOV      r0,r1
0001a0  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0001a4  1c40              ADDS     r0,r0,#1
0001a6  28ff              CMP      r0,#0xff
0001a8  da0b              BGE      |L5.450|
0001aa  217f              MOVS     r1,#0x7f
0001ac  48a4              LDR      r0,|L5.1088|
0001ae  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
0001b2  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0001b6  1c40              ADDS     r0,r0,#1
0001b8  4ba1              LDR      r3,|L5.1088|
0001ba  f88300ff          STRB     r0,[r3,#0xff]
0001be  4618              MOV      r0,r3
0001c0  5481              STRB     r1,[r0,r2]
                  |L5.450|
0001c2  489f              LDR      r0,|L5.1088|
0001c4  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0001c8  499d              LDR      r1,|L5.1088|
0001ca  f8a10100          STRH     r0,[r1,#0x100]
0001ce  4608              MOV      r0,r1
0001d0  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0001d4  1c80              ADDS     r0,r0,#2
0001d6  28ff              CMP      r0,#0xff
0001d8  da19              BGE      |L5.526|
0001da  489b              LDR      r0,|L5.1096|
0001dc  7c81              LDRB     r1,[r0,#0x12]  ; gGlobal
0001de  4898              LDR      r0,|L5.1088|
0001e0  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
0001e4  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0001e8  1c40              ADDS     r0,r0,#1
0001ea  4b95              LDR      r3,|L5.1088|
0001ec  f88300ff          STRB     r0,[r3,#0xff]
0001f0  4618              MOV      r0,r3
0001f2  5481              STRB     r1,[r0,r2]
0001f4  4894              LDR      r0,|L5.1096|
0001f6  8a40              LDRH     r0,[r0,#0x12]  ; gGlobal
0001f8  0a02              LSRS     r2,r0,#8
0001fa  4618              MOV      r0,r3
0001fc  f89010ff          LDRB     r1,[r0,#0xff]  ; SendPack
000200  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000204  1c40              ADDS     r0,r0,#1
000206  f88300ff          STRB     r0,[r3,#0xff]
00020a  4618              MOV      r0,r3
00020c  5442              STRB     r2,[r0,r1]
                  |L5.526|
00020e  488c              LDR      r0,|L5.1088|
000210  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000214  498a              LDR      r1,|L5.1088|
000216  f8a10100          STRH     r0,[r1,#0x100]
;;;298                BYTEToPack(SendPack, CMD_GET_READER_APPVERSION);
00021a  4608              MOV      r0,r1
00021c  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000220  1c40              ADDS     r0,r0,#1
000222  28ff              CMP      r0,#0xff
000224  da0b              BGE      |L5.574|
000226  21f0              MOVS     r1,#0xf0
000228  4885              LDR      r0,|L5.1088|
00022a  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
00022e  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000232  1c40              ADDS     r0,r0,#1
000234  4b82              LDR      r3,|L5.1088|
000236  f88300ff          STRB     r0,[r3,#0xff]
00023a  4618              MOV      r0,r3
00023c  5481              STRB     r1,[r0,r2]
                  |L5.574|
00023e  4880              LDR      r0,|L5.1088|
000240  e000              B        |L5.580|
                  |L5.578|
000242  e03c              B        |L5.702|
                  |L5.580|
000244  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000248  497d              LDR      r1,|L5.1088|
00024a  f8a10100          STRH     r0,[r1,#0x100]
;;;299                BYTEToPack(SendPack, 0x00);
00024e  4608              MOV      r0,r1
000250  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000254  1c40              ADDS     r0,r0,#1
000256  28ff              CMP      r0,#0xff
000258  da0b              BGE      |L5.626|
00025a  2100              MOVS     r1,#0
00025c  4878              LDR      r0,|L5.1088|
00025e  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
000262  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000266  1c40              ADDS     r0,r0,#1
000268  4b75              LDR      r3,|L5.1088|
00026a  f88300ff          STRB     r0,[r3,#0xff]
00026e  4618              MOV      r0,r3
000270  5481              STRB     r1,[r0,r2]
                  |L5.626|
000272  4873              LDR      r0,|L5.1088|
000274  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000278  4971              LDR      r1,|L5.1088|
00027a  f8a10100          STRH     r0,[r1,#0x100]
;;;300                for (i=0; i<20; i++)
00027e  2500              MOVS     r5,#0
000280  e01a              B        |L5.696|
                  |L5.642|
;;;301                {
;;;302                    BYTEToPack(SendPack, Data[i]);
000282  486f              LDR      r0,|L5.1088|
000284  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000288  1c40              ADDS     r0,r0,#1
00028a  28ff              CMP      r0,#0xff
00028c  da0c              BGE      |L5.680|
00028e  486f              LDR      r0,|L5.1100|
000290  5d41              LDRB     r1,[r0,r5]
000292  486b              LDR      r0,|L5.1088|
000294  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
000298  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
00029c  1c40              ADDS     r0,r0,#1
00029e  4b68              LDR      r3,|L5.1088|
0002a0  f88300ff          STRB     r0,[r3,#0xff]
0002a4  4618              MOV      r0,r3
0002a6  5481              STRB     r1,[r0,r2]
                  |L5.680|
0002a8  4865              LDR      r0,|L5.1088|
0002aa  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0002ae  4964              LDR      r1,|L5.1088|
0002b0  f8a10100          STRH     r0,[r1,#0x100]
0002b4  1c68              ADDS     r0,r5,#1              ;300
0002b6  b2c5              UXTB     r5,r0                 ;300
                  |L5.696|
0002b8  2d14              CMP      r5,#0x14              ;300
0002ba  dbe2              BLT      |L5.642|
0002bc  e085              B        |L5.970|
                  |L5.702|
;;;303                }
;;;304            }else{
;;;305                PUSHPackHeader(SendPack);
0002be  4860              LDR      r0,|L5.1088|
0002c0  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0002c4  1c40              ADDS     r0,r0,#1
0002c6  28ff              CMP      r0,#0xff
0002c8  da0b              BGE      |L5.738|
0002ca  217f              MOVS     r1,#0x7f
0002cc  485c              LDR      r0,|L5.1088|
0002ce  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
0002d2  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0002d6  1c40              ADDS     r0,r0,#1
0002d8  4b59              LDR      r3,|L5.1088|
0002da  f88300ff          STRB     r0,[r3,#0xff]
0002de  4618              MOV      r0,r3
0002e0  5481              STRB     r1,[r0,r2]
                  |L5.738|
0002e2  4857              LDR      r0,|L5.1088|
0002e4  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0002e8  4955              LDR      r1,|L5.1088|
0002ea  f8a10100          STRH     r0,[r1,#0x100]
0002ee  4608              MOV      r0,r1
0002f0  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0002f4  1c40              ADDS     r0,r0,#1
0002f6  28ff              CMP      r0,#0xff
0002f8  da0b              BGE      |L5.786|
0002fa  217f              MOVS     r1,#0x7f
0002fc  4850              LDR      r0,|L5.1088|
0002fe  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
000302  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000306  1c40              ADDS     r0,r0,#1
000308  4b4d              LDR      r3,|L5.1088|
00030a  f88300ff          STRB     r0,[r3,#0xff]
00030e  4618              MOV      r0,r3
000310  5481              STRB     r1,[r0,r2]
                  |L5.786|
000312  484b              LDR      r0,|L5.1088|
000314  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000318  4949              LDR      r1,|L5.1088|
00031a  f8a10100          STRH     r0,[r1,#0x100]
00031e  4608              MOV      r0,r1
000320  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000324  1c80              ADDS     r0,r0,#2
000326  28ff              CMP      r0,#0xff
000328  da19              BGE      |L5.862|
00032a  4847              LDR      r0,|L5.1096|
00032c  7c82              LDRB     r2,[r0,#0x12]  ; gGlobal
00032e  4608              MOV      r0,r1
000330  f89010ff          LDRB     r1,[r0,#0xff]  ; SendPack
000334  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000338  1c40              ADDS     r0,r0,#1
00033a  4b41              LDR      r3,|L5.1088|
00033c  f88300ff          STRB     r0,[r3,#0xff]
000340  4618              MOV      r0,r3
000342  5442              STRB     r2,[r0,r1]
000344  4840              LDR      r0,|L5.1096|
000346  8a40              LDRH     r0,[r0,#0x12]  ; gGlobal
000348  0a01              LSRS     r1,r0,#8
00034a  4618              MOV      r0,r3
00034c  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
000350  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000354  1c40              ADDS     r0,r0,#1
000356  f88300ff          STRB     r0,[r3,#0xff]
00035a  4618              MOV      r0,r3
00035c  5481              STRB     r1,[r0,r2]
                  |L5.862|
00035e  4838              LDR      r0,|L5.1088|
000360  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000364  4936              LDR      r1,|L5.1088|
000366  f8a10100          STRH     r0,[r1,#0x100]
;;;306                BYTEToPack(SendPack, CMD_GET_READER_APPVERSION);
00036a  4608              MOV      r0,r1
00036c  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000370  1c40              ADDS     r0,r0,#1
000372  28ff              CMP      r0,#0xff
000374  da0b              BGE      |L5.910|
000376  22f0              MOVS     r2,#0xf0
000378  4608              MOV      r0,r1
00037a  f89010ff          LDRB     r1,[r0,#0xff]  ; SendPack
00037e  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000382  1c40              ADDS     r0,r0,#1
000384  4b2e              LDR      r3,|L5.1088|
000386  f88300ff          STRB     r0,[r3,#0xff]
00038a  4618              MOV      r0,r3
00038c  5442              STRB     r2,[r0,r1]
                  |L5.910|
00038e  482c              LDR      r0,|L5.1088|
000390  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000394  492a              LDR      r1,|L5.1088|
000396  f8a10100          STRH     r0,[r1,#0x100]
;;;307                BYTEToPack(SendPack, 0x01);
00039a  4608              MOV      r0,r1
00039c  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0003a0  1c40              ADDS     r0,r0,#1
0003a2  28ff              CMP      r0,#0xff
0003a4  da0b              BGE      |L5.958|
0003a6  2101              MOVS     r1,#1
0003a8  4825              LDR      r0,|L5.1088|
0003aa  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
0003ae  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0003b2  1c40              ADDS     r0,r0,#1
0003b4  4b22              LDR      r3,|L5.1088|
0003b6  f88300ff          STRB     r0,[r3,#0xff]
0003ba  4618              MOV      r0,r3
0003bc  5481              STRB     r1,[r0,r2]
                  |L5.958|
0003be  4820              LDR      r0,|L5.1088|
0003c0  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0003c4  491e              LDR      r1,|L5.1088|
0003c6  f8a10100          STRH     r0,[r1,#0x100]
                  |L5.970|
;;;308            }
;;;309            FinishPack(&SendPack);        				
0003ca  481d              LDR      r0,|L5.1088|
0003cc  f7fffffe          BL       FinishPack
;;;310            SendUp(&SendPack);
0003d0  481b              LDR      r0,|L5.1088|
0003d2  f7fffffe          BL       SendUp
;;;311            break;
0003d6  e3fc              B        |L5.3026|
                  |L5.984|
;;;312        case CMD_WRITE_UPDATE_DATA:
;;;313            BYTEFromPack((*pack), btValue[0]);
0003d8  f89400ff          LDRB     r0,[r4,#0xff]
0003dc  1c40              ADDS     r0,r0,#1
0003de  f8b41100          LDRH     r1,[r4,#0x100]
0003e2  4288              CMP      r0,r1
0003e4  dc08              BGT      |L5.1016|
0003e6  34ff              ADDS     r4,r4,#0xff
0003e8  7821              LDRB     r1,[r4,#0]
0003ea  1c48              ADDS     r0,r1,#1
0003ec  7020              STRB     r0,[r4,#0]
0003ee  3cff              SUBS     r4,r4,#0xff
0003f0  5c60              LDRB     r0,[r4,r1]
0003f2  4914              LDR      r1,|L5.1092|
0003f4  7008              STRB     r0,[r1,#0]
0003f6  e002              B        |L5.1022|
                  |L5.1016|
0003f8  2000              MOVS     r0,#0
0003fa  4912              LDR      r1,|L5.1092|
0003fc  7008              STRB     r0,[r1,#0]
                  |L5.1022|
;;;314            DWORDFromPack((*pack), dwAddress);
0003fe  f89400ff          LDRB     r0,[r4,#0xff]
000402  1d00              ADDS     r0,r0,#4
000404  f8b41100          LDRH     r1,[r4,#0x100]
000408  4288              CMP      r0,r1
00040a  dc26              BGT      |L5.1114|
00040c  34ff              ADDS     r4,r4,#0xff
00040e  7821              LDRB     r1,[r4,#0]
000410  1c48              ADDS     r0,r1,#1
000412  7020              STRB     r0,[r4,#0]
000414  3cff              SUBS     r4,r4,#0xff
000416  5c66              LDRB     r6,[r4,r1]
000418  34ff              ADDS     r4,r4,#0xff
00041a  7821              LDRB     r1,[r4,#0]
00041c  1c48              ADDS     r0,r1,#1
00041e  7020              STRB     r0,[r4,#0]
000420  3cff              SUBS     r4,r4,#0xff
000422  5c60              LDRB     r0,[r4,r1]
000424  eb062600          ADD      r6,r6,r0,LSL #8
000428  34ff              ADDS     r4,r4,#0xff
00042a  7821              LDRB     r1,[r4,#0]
00042c  1c48              ADDS     r0,r1,#1
00042e  7020              STRB     r0,[r4,#0]
000430  3cff              SUBS     r4,r4,#0xff
000432  5c60              LDRB     r0,[r4,r1]
000434  eb064600          ADD      r6,r6,r0,LSL #16
000438  34ff              ADDS     r4,r4,#0xff
00043a  7821              LDRB     r1,[r4,#0]
00043c  1c48              ADDS     r0,r1,#1
00043e  e007              B        |L5.1104|
                  |L5.1088|
                          DCD      SendPack
                  |L5.1092|
                          DCD      btValue
                  |L5.1096|
                          DCD      gGlobal
                  |L5.1100|
                          DCD      Data
                  |L5.1104|
000450  7020              STRB     r0,[r4,#0]
000452  3cff              SUBS     r4,r4,#0xff
000454  5c60              LDRB     r0,[r4,r1]
000456  eb066600          ADD      r6,r6,r0,LSL #24
                  |L5.1114|
;;;315            BYTEFromPack((*pack), btValue[1]);
00045a  f89400ff          LDRB     r0,[r4,#0xff]
00045e  1c40              ADDS     r0,r0,#1
000460  f8b41100          LDRH     r1,[r4,#0x100]
000464  4288              CMP      r0,r1
000466  dc08              BGT      |L5.1146|
000468  34ff              ADDS     r4,r4,#0xff
00046a  7821              LDRB     r1,[r4,#0]
00046c  1c48              ADDS     r0,r1,#1
00046e  7020              STRB     r0,[r4,#0]
000470  3cff              SUBS     r4,r4,#0xff
000472  5c60              LDRB     r0,[r4,r1]
000474  49f9              LDR      r1,|L5.2140|
000476  7048              STRB     r0,[r1,#1]
000478  e002              B        |L5.1152|
                  |L5.1146|
00047a  2000              MOVS     r0,#0
00047c  49f7              LDR      r1,|L5.2140|
00047e  7048              STRB     r0,[r1,#1]
                  |L5.1152|
;;;316            for (i=0; i<btValue[1]; i++)
000480  2500              MOVS     r5,#0
000482  e014              B        |L5.1198|
                  |L5.1156|
;;;317            {
;;;318                BYTEFromPack((*pack), Data[i]);
000484  f89400ff          LDRB     r0,[r4,#0xff]
000488  1c40              ADDS     r0,r0,#1
00048a  f8b41100          LDRH     r1,[r4,#0x100]
00048e  4288              CMP      r0,r1
000490  dc08              BGT      |L5.1188|
000492  34ff              ADDS     r4,r4,#0xff
000494  7821              LDRB     r1,[r4,#0]
000496  1c48              ADDS     r0,r1,#1
000498  7020              STRB     r0,[r4,#0]
00049a  3cff              SUBS     r4,r4,#0xff
00049c  5c60              LDRB     r0,[r4,r1]
00049e  49f0              LDR      r1,|L5.2144|
0004a0  5548              STRB     r0,[r1,r5]
0004a2  e002              B        |L5.1194|
                  |L5.1188|
0004a4  2000              MOVS     r0,#0
0004a6  49ee              LDR      r1,|L5.2144|
0004a8  5548              STRB     r0,[r1,r5]
                  |L5.1194|
0004aa  1c68              ADDS     r0,r5,#1              ;316
0004ac  b2c5              UXTB     r5,r0                 ;316
                  |L5.1198|
0004ae  48eb              LDR      r0,|L5.2140|
0004b0  7840              LDRB     r0,[r0,#1]            ;316  ; btValue
0004b2  42a8              CMP      r0,r5                 ;316
0004b4  dce6              BGT      |L5.1156|
;;;319            }        
;;;320            flashdestination = APPLICATION_ADDRESS+dwAddress;
0004b6  48eb              LDR      r0,|L5.2148|
0004b8  4430              ADD      r0,r0,r6
0004ba  9000              STR      r0,[sp,#0]
;;;321            Data[0] = FLASH_If_Write(&flashdestination, (uint32_t *)Data, btValue[1]/4);
0004bc  48e7              LDR      r0,|L5.2140|
0004be  f8909001          LDRB     r9,[r0,#1]  ; btValue
0004c2  ea4f70e9          ASR      r0,r9,#31
0004c6  eb097090          ADD      r0,r9,r0,LSR #30
0004ca  1082              ASRS     r2,r0,#2
0004cc  49e4              LDR      r1,|L5.2144|
0004ce  4668              MOV      r0,sp
0004d0  f7fffffe          BL       FLASH_If_Write
0004d4  49e2              LDR      r1,|L5.2144|
0004d6  7008              STRB     r0,[r1,#0]
;;;322            
;;;323            PUSHPackHeader(SendPack);
0004d8  48e3              LDR      r0,|L5.2152|
0004da  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0004de  1c40              ADDS     r0,r0,#1
0004e0  28ff              CMP      r0,#0xff
0004e2  da0b              BGE      |L5.1276|
0004e4  217f              MOVS     r1,#0x7f
0004e6  48e0              LDR      r0,|L5.2152|
0004e8  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
0004ec  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0004f0  1c40              ADDS     r0,r0,#1
0004f2  4bdd              LDR      r3,|L5.2152|
0004f4  f88300ff          STRB     r0,[r3,#0xff]
0004f8  4618              MOV      r0,r3
0004fa  5481              STRB     r1,[r0,r2]
                  |L5.1276|
0004fc  48da              LDR      r0,|L5.2152|
0004fe  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000502  49d9              LDR      r1,|L5.2152|
000504  f8a10100          STRH     r0,[r1,#0x100]
000508  4608              MOV      r0,r1
00050a  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
00050e  1c40              ADDS     r0,r0,#1
000510  28ff              CMP      r0,#0xff
000512  da0b              BGE      |L5.1324|
000514  217f              MOVS     r1,#0x7f
000516  48d4              LDR      r0,|L5.2152|
000518  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
00051c  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000520  1c40              ADDS     r0,r0,#1
000522  4bd1              LDR      r3,|L5.2152|
000524  f88300ff          STRB     r0,[r3,#0xff]
000528  4618              MOV      r0,r3
00052a  5481              STRB     r1,[r0,r2]
                  |L5.1324|
00052c  48ce              LDR      r0,|L5.2152|
00052e  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000532  49cd              LDR      r1,|L5.2152|
000534  f8a10100          STRH     r0,[r1,#0x100]
000538  4608              MOV      r0,r1
00053a  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
00053e  1c80              ADDS     r0,r0,#2
000540  28ff              CMP      r0,#0xff
000542  da19              BGE      |L5.1400|
000544  48c9              LDR      r0,|L5.2156|
000546  7c81              LDRB     r1,[r0,#0x12]  ; gGlobal
000548  48c7              LDR      r0,|L5.2152|
00054a  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
00054e  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000552  1c40              ADDS     r0,r0,#1
000554  4bc4              LDR      r3,|L5.2152|
000556  f88300ff          STRB     r0,[r3,#0xff]
00055a  4618              MOV      r0,r3
00055c  5481              STRB     r1,[r0,r2]
00055e  48c3              LDR      r0,|L5.2156|
000560  8a40              LDRH     r0,[r0,#0x12]  ; gGlobal
000562  0a01              LSRS     r1,r0,#8
000564  4618              MOV      r0,r3
000566  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
00056a  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
00056e  1c40              ADDS     r0,r0,#1
000570  f88300ff          STRB     r0,[r3,#0xff]
000574  4618              MOV      r0,r3
000576  5481              STRB     r1,[r0,r2]
                  |L5.1400|
000578  48bb              LDR      r0,|L5.2152|
00057a  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
00057e  49ba              LDR      r1,|L5.2152|
000580  f8a10100          STRH     r0,[r1,#0x100]
;;;324            BYTEToPack(SendPack, CMD_WRITE_UPDATE_DATA);
000584  4608              MOV      r0,r1
000586  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
00058a  1c40              ADDS     r0,r0,#1
00058c  28ff              CMP      r0,#0xff
00058e  da0b              BGE      |L5.1448|
000590  22f1              MOVS     r2,#0xf1
000592  4608              MOV      r0,r1
000594  f89010ff          LDRB     r1,[r0,#0xff]  ; SendPack
000598  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
00059c  1c40              ADDS     r0,r0,#1
00059e  4bb2              LDR      r3,|L5.2152|
0005a0  f88300ff          STRB     r0,[r3,#0xff]
0005a4  4618              MOV      r0,r3
0005a6  5442              STRB     r2,[r0,r1]
                  |L5.1448|
0005a8  48af              LDR      r0,|L5.2152|
0005aa  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0005ae  49ae              LDR      r1,|L5.2152|
0005b0  f8a10100          STRH     r0,[r1,#0x100]
;;;325            BYTEToPack(SendPack, Data[0]);
0005b4  4608              MOV      r0,r1
0005b6  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0005ba  1c40              ADDS     r0,r0,#1
0005bc  28ff              CMP      r0,#0xff
0005be  da0c              BGE      |L5.1498|
0005c0  48a7              LDR      r0,|L5.2144|
0005c2  7802              LDRB     r2,[r0,#0]  ; Data
0005c4  4608              MOV      r0,r1
0005c6  f89010ff          LDRB     r1,[r0,#0xff]  ; SendPack
0005ca  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0005ce  1c40              ADDS     r0,r0,#1
0005d0  4ba5              LDR      r3,|L5.2152|
0005d2  f88300ff          STRB     r0,[r3,#0xff]
0005d6  4618              MOV      r0,r3
0005d8  5442              STRB     r2,[r0,r1]
                  |L5.1498|
0005da  48a3              LDR      r0,|L5.2152|
0005dc  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0005e0  49a1              LDR      r1,|L5.2152|
0005e2  f8a10100          STRH     r0,[r1,#0x100]
;;;326            DWORDToPack(SendPack, dwAddress);
0005e6  4608              MOV      r0,r1
0005e8  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0005ec  1d00              ADDS     r0,r0,#4
0005ee  28ff              CMP      r0,#0xff
0005f0  da2b              BGE      |L5.1610|
0005f2  4608              MOV      r0,r1
0005f4  f89010ff          LDRB     r1,[r0,#0xff]  ; SendPack
0005f8  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0005fc  1c40              ADDS     r0,r0,#1
0005fe  4b9a              LDR      r3,|L5.2152|
000600  f88300ff          STRB     r0,[r3,#0xff]
000604  4618              MOV      r0,r3
000606  5446              STRB     r6,[r0,r1]
000608  f3c62107          UBFX     r1,r6,#8,#8
00060c  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
000610  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000614  1c40              ADDS     r0,r0,#1
000616  f88300ff          STRB     r0,[r3,#0xff]
00061a  4618              MOV      r0,r3
00061c  5481              STRB     r1,[r0,r2]
00061e  f3c64207          UBFX     r2,r6,#16,#8
000622  f89010ff          LDRB     r1,[r0,#0xff]  ; SendPack
000626  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
00062a  1c40              ADDS     r0,r0,#1
00062c  f88300ff          STRB     r0,[r3,#0xff]
000630  4618              MOV      r0,r3
000632  5442              STRB     r2,[r0,r1]
000634  0e30              LSRS     r0,r6,#24
000636  4619              MOV      r1,r3
000638  f89120ff          LDRB     r2,[r1,#0xff]  ; SendPack
00063c  f89110ff          LDRB     r1,[r1,#0xff]  ; SendPack
000640  1c49              ADDS     r1,r1,#1
000642  f88310ff          STRB     r1,[r3,#0xff]
000646  4619              MOV      r1,r3
000648  5488              STRB     r0,[r1,r2]
                  |L5.1610|
00064a  4887              LDR      r0,|L5.2152|
00064c  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000650  4985              LDR      r1,|L5.2152|
000652  f8a10100          STRH     r0,[r1,#0x100]
;;;327            FinishPack(&SendPack);
000656  4608              MOV      r0,r1
000658  f7fffffe          BL       FinishPack
;;;328            SendUp(&SendPack);
00065c  4882              LDR      r0,|L5.2152|
00065e  f7fffffe          BL       SendUp
;;;329            break;
000662  e364              B        |L5.3374|
                  |L5.1636|
;;;330        case CMD_JUMP_APPLICATION:
;;;331            BYTEFromPack((*pack), btValue[0]);
000664  f89400ff          LDRB     r0,[r4,#0xff]
000668  1c40              ADDS     r0,r0,#1
00066a  f8b41100          LDRH     r1,[r4,#0x100]
00066e  4288              CMP      r0,r1
000670  dc08              BGT      |L5.1668|
000672  34ff              ADDS     r4,r4,#0xff
000674  7821              LDRB     r1,[r4,#0]
000676  1c48              ADDS     r0,r1,#1
000678  7020              STRB     r0,[r4,#0]
00067a  3cff              SUBS     r4,r4,#0xff
00067c  5c60              LDRB     r0,[r4,r1]
00067e  4977              LDR      r1,|L5.2140|
000680  7008              STRB     r0,[r1,#0]
000682  e002              B        |L5.1674|
                  |L5.1668|
000684  2000              MOVS     r0,#0
000686  4975              LDR      r1,|L5.2140|
000688  7008              STRB     r0,[r1,#0]
                  |L5.1674|
;;;332            BYTEFromPack((*pack), btValue[1]);
00068a  f89400ff          LDRB     r0,[r4,#0xff]
00068e  1c40              ADDS     r0,r0,#1
000690  f8b41100          LDRH     r1,[r4,#0x100]
000694  4288              CMP      r0,r1
000696  dc08              BGT      |L5.1706|
000698  34ff              ADDS     r4,r4,#0xff
00069a  7821              LDRB     r1,[r4,#0]
00069c  1c48              ADDS     r0,r1,#1
00069e  7020              STRB     r0,[r4,#0]
0006a0  3cff              SUBS     r4,r4,#0xff
0006a2  5c60              LDRB     r0,[r4,r1]
0006a4  496d              LDR      r1,|L5.2140|
0006a6  7048              STRB     r0,[r1,#1]
0006a8  e002              B        |L5.1712|
                  |L5.1706|
0006aa  2000              MOVS     r0,#0
0006ac  496b              LDR      r1,|L5.2140|
0006ae  7048              STRB     r0,[r1,#1]
                  |L5.1712|
;;;333            BYTEFromPack((*pack), btValue[2]);
0006b0  f89400ff          LDRB     r0,[r4,#0xff]
0006b4  1c40              ADDS     r0,r0,#1
0006b6  f8b41100          LDRH     r1,[r4,#0x100]
0006ba  4288              CMP      r0,r1
0006bc  dc08              BGT      |L5.1744|
0006be  34ff              ADDS     r4,r4,#0xff
0006c0  7821              LDRB     r1,[r4,#0]
0006c2  1c48              ADDS     r0,r1,#1
0006c4  7020              STRB     r0,[r4,#0]
0006c6  3cff              SUBS     r4,r4,#0xff
0006c8  5c60              LDRB     r0,[r4,r1]
0006ca  4964              LDR      r1,|L5.2140|
0006cc  7088              STRB     r0,[r1,#2]
0006ce  e002              B        |L5.1750|
                  |L5.1744|
0006d0  2000              MOVS     r0,#0
0006d2  4962              LDR      r1,|L5.2140|
0006d4  7088              STRB     r0,[r1,#2]
                  |L5.1750|
;;;334            BYTEFromPack((*pack), btValue[3]);
0006d6  f89400ff          LDRB     r0,[r4,#0xff]
0006da  1c40              ADDS     r0,r0,#1
0006dc  f8b41100          LDRH     r1,[r4,#0x100]
0006e0  4288              CMP      r0,r1
0006e2  dc08              BGT      |L5.1782|
0006e4  34ff              ADDS     r4,r4,#0xff
0006e6  7821              LDRB     r1,[r4,#0]
0006e8  1c48              ADDS     r0,r1,#1
0006ea  7020              STRB     r0,[r4,#0]
0006ec  3cff              SUBS     r4,r4,#0xff
0006ee  5c60              LDRB     r0,[r4,r1]
0006f0  495a              LDR      r1,|L5.2140|
0006f2  70c8              STRB     r0,[r1,#3]
0006f4  e002              B        |L5.1788|
                  |L5.1782|
0006f6  2000              MOVS     r0,#0
0006f8  4958              LDR      r1,|L5.2140|
0006fa  70c8              STRB     r0,[r1,#3]
                  |L5.1788|
;;;335            BYTEFromPack((*pack), btValue[4]);
0006fc  f89400ff          LDRB     r0,[r4,#0xff]
000700  1c40              ADDS     r0,r0,#1
000702  f8b41100          LDRH     r1,[r4,#0x100]
000706  4288              CMP      r0,r1
000708  dc08              BGT      |L5.1820|
00070a  34ff              ADDS     r4,r4,#0xff
00070c  7821              LDRB     r1,[r4,#0]
00070e  1c48              ADDS     r0,r1,#1
000710  7020              STRB     r0,[r4,#0]
000712  3cff              SUBS     r4,r4,#0xff
000714  5c60              LDRB     r0,[r4,r1]
000716  4951              LDR      r1,|L5.2140|
000718  7108              STRB     r0,[r1,#4]
00071a  e002              B        |L5.1826|
                  |L5.1820|
00071c  2000              MOVS     r0,#0
00071e  494f              LDR      r1,|L5.2140|
000720  7108              STRB     r0,[r1,#4]
                  |L5.1826|
;;;336            if (btValue[0] == 'B' && btValue[1] == 'L' && btValue[2] == 'K' && btValue[3] == 'E' && btValue[4] == 'Y')
000722  484e              LDR      r0,|L5.2140|
000724  7800              LDRB     r0,[r0,#0]  ; btValue
000726  2842              CMP      r0,#0x42
000728  d17e              BNE      |L5.2088|
00072a  484c              LDR      r0,|L5.2140|
00072c  7840              LDRB     r0,[r0,#1]  ; btValue
00072e  284c              CMP      r0,#0x4c
000730  d17a              BNE      |L5.2088|
000732  484a              LDR      r0,|L5.2140|
000734  7880              LDRB     r0,[r0,#2]  ; btValue
000736  284b              CMP      r0,#0x4b
000738  d176              BNE      |L5.2088|
00073a  4848              LDR      r0,|L5.2140|
00073c  78c0              LDRB     r0,[r0,#3]  ; btValue
00073e  2845              CMP      r0,#0x45
000740  d172              BNE      |L5.2088|
000742  4846              LDR      r0,|L5.2140|
000744  7900              LDRB     r0,[r0,#4]  ; btValue
000746  2859              CMP      r0,#0x59
000748  d16e              BNE      |L5.2088|
;;;337            {
;;;338                PUSHPackHeader(SendPack);
00074a  4847              LDR      r0,|L5.2152|
00074c  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000750  1c40              ADDS     r0,r0,#1
000752  28ff              CMP      r0,#0xff
000754  da0b              BGE      |L5.1902|
000756  217f              MOVS     r1,#0x7f
000758  4843              LDR      r0,|L5.2152|
00075a  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
00075e  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000762  1c40              ADDS     r0,r0,#1
000764  4b40              LDR      r3,|L5.2152|
000766  f88300ff          STRB     r0,[r3,#0xff]
00076a  4618              MOV      r0,r3
00076c  5481              STRB     r1,[r0,r2]
                  |L5.1902|
00076e  483e              LDR      r0,|L5.2152|
000770  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000774  493c              LDR      r1,|L5.2152|
000776  f8a10100          STRH     r0,[r1,#0x100]
00077a  4608              MOV      r0,r1
00077c  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000780  1c40              ADDS     r0,r0,#1
000782  28ff              CMP      r0,#0xff
000784  da0b              BGE      |L5.1950|
000786  217f              MOVS     r1,#0x7f
000788  4837              LDR      r0,|L5.2152|
00078a  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
00078e  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000792  1c40              ADDS     r0,r0,#1
000794  4b34              LDR      r3,|L5.2152|
000796  f88300ff          STRB     r0,[r3,#0xff]
00079a  4618              MOV      r0,r3
00079c  5481              STRB     r1,[r0,r2]
                  |L5.1950|
00079e  4832              LDR      r0,|L5.2152|
0007a0  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0007a4  4930              LDR      r1,|L5.2152|
0007a6  f8a10100          STRH     r0,[r1,#0x100]
0007aa  4608              MOV      r0,r1
0007ac  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0007b0  1c80              ADDS     r0,r0,#2
0007b2  28ff              CMP      r0,#0xff
0007b4  da19              BGE      |L5.2026|
0007b6  482d              LDR      r0,|L5.2156|
0007b8  7c81              LDRB     r1,[r0,#0x12]  ; gGlobal
0007ba  482b              LDR      r0,|L5.2152|
0007bc  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
0007c0  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0007c4  1c40              ADDS     r0,r0,#1
0007c6  4b28              LDR      r3,|L5.2152|
0007c8  f88300ff          STRB     r0,[r3,#0xff]
0007cc  4618              MOV      r0,r3
0007ce  5481              STRB     r1,[r0,r2]
0007d0  4826              LDR      r0,|L5.2156|
0007d2  8a40              LDRH     r0,[r0,#0x12]  ; gGlobal
0007d4  0a01              LSRS     r1,r0,#8
0007d6  4618              MOV      r0,r3
0007d8  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
0007dc  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0007e0  1c40              ADDS     r0,r0,#1
0007e2  f88300ff          STRB     r0,[r3,#0xff]
0007e6  4618              MOV      r0,r3
0007e8  5481              STRB     r1,[r0,r2]
                  |L5.2026|
0007ea  481f              LDR      r0,|L5.2152|
0007ec  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0007f0  491d              LDR      r1,|L5.2152|
0007f2  f8a10100          STRH     r0,[r1,#0x100]
;;;339                BYTEToPack(SendPack, CMD_JUMP_APPLICATION);
0007f6  4608              MOV      r0,r1
0007f8  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0007fc  1c40              ADDS     r0,r0,#1
0007fe  28ff              CMP      r0,#0xff
000800  da0b              BGE      |L5.2074|
000802  21f2              MOVS     r1,#0xf2
000804  4818              LDR      r0,|L5.2152|
000806  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
00080a  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
00080e  1c40              ADDS     r0,r0,#1
000810  4b15              LDR      r3,|L5.2152|
000812  f88300ff          STRB     r0,[r3,#0xff]
000816  4618              MOV      r0,r3
000818  5481              STRB     r1,[r0,r2]
                  |L5.2074|
00081a  4813              LDR      r0,|L5.2152|
00081c  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000820  4911              LDR      r1,|L5.2152|
000822  f8a10100          STRH     r0,[r1,#0x100]
;;;340                BYTEToPack(SendPack, 0x00);
000826  e000              B        |L5.2090|
                  |L5.2088|
000828  e023              B        |L5.2162|
                  |L5.2090|
00082a  4608              MOV      r0,r1
00082c  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000830  1c40              ADDS     r0,r0,#1
000832  28ff              CMP      r0,#0xff
000834  da0b              BGE      |L5.2126|
000836  2200              MOVS     r2,#0
000838  4608              MOV      r0,r1
00083a  f89010ff          LDRB     r1,[r0,#0xff]  ; SendPack
00083e  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000842  1c40              ADDS     r0,r0,#1
000844  4b08              LDR      r3,|L5.2152|
000846  f88300ff          STRB     r0,[r3,#0xff]
00084a  4618              MOV      r0,r3
00084c  5442              STRB     r2,[r0,r1]
                  |L5.2126|
00084e  4806              LDR      r0,|L5.2152|
000850  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000854  4904              LDR      r1,|L5.2152|
000856  f8a10100          STRH     r0,[r1,#0x100]
00085a  e092              B        |L5.2434|
                  |L5.2140|
                          DCD      btValue
                  |L5.2144|
                          DCD      Data
                  |L5.2148|
                          DCD      0x08010000
                  |L5.2152|
                          DCD      SendPack
                  |L5.2156|
                          DCD      gGlobal
                  |L5.2160|
000870  e09e              B        |L5.2480|
                  |L5.2162|
;;;341            }else{
;;;342                PUSHPackHeader(SendPack);
000872  48fe              LDR      r0,|L5.3180|
000874  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000878  1c40              ADDS     r0,r0,#1
00087a  28ff              CMP      r0,#0xff
00087c  da0b              BGE      |L5.2198|
00087e  217f              MOVS     r1,#0x7f
000880  48fa              LDR      r0,|L5.3180|
000882  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
000886  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
00088a  1c40              ADDS     r0,r0,#1
00088c  4bf7              LDR      r3,|L5.3180|
00088e  f88300ff          STRB     r0,[r3,#0xff]
000892  4618              MOV      r0,r3
000894  5481              STRB     r1,[r0,r2]
                  |L5.2198|
000896  48f5              LDR      r0,|L5.3180|
000898  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
00089c  49f3              LDR      r1,|L5.3180|
00089e  f8a10100          STRH     r0,[r1,#0x100]
0008a2  4608              MOV      r0,r1
0008a4  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0008a8  1c40              ADDS     r0,r0,#1
0008aa  28ff              CMP      r0,#0xff
0008ac  da0b              BGE      |L5.2246|
0008ae  217f              MOVS     r1,#0x7f
0008b0  48ee              LDR      r0,|L5.3180|
0008b2  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
0008b6  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0008ba  1c40              ADDS     r0,r0,#1
0008bc  4beb              LDR      r3,|L5.3180|
0008be  f88300ff          STRB     r0,[r3,#0xff]
0008c2  4618              MOV      r0,r3
0008c4  5481              STRB     r1,[r0,r2]
                  |L5.2246|
0008c6  48e9              LDR      r0,|L5.3180|
0008c8  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0008cc  49e7              LDR      r1,|L5.3180|
0008ce  f8a10100          STRH     r0,[r1,#0x100]
0008d2  4608              MOV      r0,r1
0008d4  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0008d8  1c80              ADDS     r0,r0,#2
0008da  28ff              CMP      r0,#0xff
0008dc  da19              BGE      |L5.2322|
0008de  48e4              LDR      r0,|L5.3184|
0008e0  7c81              LDRB     r1,[r0,#0x12]  ; gGlobal
0008e2  48e2              LDR      r0,|L5.3180|
0008e4  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
0008e8  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0008ec  1c40              ADDS     r0,r0,#1
0008ee  4bdf              LDR      r3,|L5.3180|
0008f0  f88300ff          STRB     r0,[r3,#0xff]
0008f4  4618              MOV      r0,r3
0008f6  5481              STRB     r1,[r0,r2]
0008f8  48dd              LDR      r0,|L5.3184|
0008fa  8a40              LDRH     r0,[r0,#0x12]  ; gGlobal
0008fc  0a01              LSRS     r1,r0,#8
0008fe  4618              MOV      r0,r3
000900  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
000904  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000908  1c40              ADDS     r0,r0,#1
00090a  f88300ff          STRB     r0,[r3,#0xff]
00090e  4618              MOV      r0,r3
000910  5481              STRB     r1,[r0,r2]
                  |L5.2322|
000912  48d6              LDR      r0,|L5.3180|
000914  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000918  49d4              LDR      r1,|L5.3180|
00091a  f8a10100          STRH     r0,[r1,#0x100]
;;;343                BYTEToPack(SendPack, CMD_JUMP_APPLICATION);
00091e  4608              MOV      r0,r1
000920  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000924  1c40              ADDS     r0,r0,#1
000926  28ff              CMP      r0,#0xff
000928  da0b              BGE      |L5.2370|
00092a  21f2              MOVS     r1,#0xf2
00092c  48cf              LDR      r0,|L5.3180|
00092e  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
000932  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000936  1c40              ADDS     r0,r0,#1
000938  4bcc              LDR      r3,|L5.3180|
00093a  f88300ff          STRB     r0,[r3,#0xff]
00093e  4618              MOV      r0,r3
000940  5481              STRB     r1,[r0,r2]
                  |L5.2370|
000942  48ca              LDR      r0,|L5.3180|
000944  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000948  49c8              LDR      r1,|L5.3180|
00094a  f8a10100          STRH     r0,[r1,#0x100]
;;;344                BYTEToPack(SendPack, 0x01);
00094e  4608              MOV      r0,r1
000950  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000954  1c40              ADDS     r0,r0,#1
000956  28ff              CMP      r0,#0xff
000958  da0b              BGE      |L5.2418|
00095a  2201              MOVS     r2,#1
00095c  4608              MOV      r0,r1
00095e  f89010ff          LDRB     r1,[r0,#0xff]  ; SendPack
000962  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000966  1c40              ADDS     r0,r0,#1
000968  4bc0              LDR      r3,|L5.3180|
00096a  f88300ff          STRB     r0,[r3,#0xff]
00096e  4618              MOV      r0,r3
000970  5442              STRB     r2,[r0,r1]
                  |L5.2418|
000972  48be              LDR      r0,|L5.3180|
000974  e000              B        |L5.2424|
                  |L5.2422|
000976  e1d9              B        |L5.3372|
                  |L5.2424|
000978  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
00097c  49bb              LDR      r1,|L5.3180|
00097e  f8a10100          STRH     r0,[r1,#0x100]
                  |L5.2434|
;;;345            }
;;;346            FinishPack(&SendPack);
000982  48ba              LDR      r0,|L5.3180|
000984  f7fffffe          BL       FinishPack
;;;347            SendUp(&SendPack);
000988  48b8              LDR      r0,|L5.3180|
00098a  f7fffffe          BL       SendUp
;;;348    
;;;349            FLASH_If_EnableWriteProtection(APPLICATION_ADDRESS);
00098e  48b9              LDR      r0,|L5.3188|
000990  f7fffffe          BL       FLASH_If_EnableWriteProtection
;;;350            
;;;351            dwStart = LocalTime;
000994  48b8              LDR      r0,|L5.3192|
000996  f8d08000          LDR      r8,[r0,#0]  ; LocalTime
;;;352            while(LocalTime-dwStart<5000)
00099a  bf00              NOP      
                  |L5.2460|
00099c  48b6              LDR      r0,|L5.3192|
00099e  6800              LDR      r0,[r0,#0]  ; LocalTime
0009a0  eba00008          SUB      r0,r0,r8
0009a4  f2413188          MOV      r1,#0x1388
0009a8  4288              CMP      r0,r1
0009aa  d3f7              BCC      |L5.2460|
;;;353            {
;;;354            }
;;;355            NVIC_SystemReset();
0009ac  f7fffffe          BL       NVIC_SystemReset
                  |L5.2480|
;;;356            break;
;;;357        case CMD_ENTER_BOOTLOADER:
;;;358            BYTEFromPack((*pack), btValue[0]);
0009b0  f89400ff          LDRB     r0,[r4,#0xff]
0009b4  1c40              ADDS     r0,r0,#1
0009b6  f8b41100          LDRH     r1,[r4,#0x100]
0009ba  4288              CMP      r0,r1
0009bc  dc08              BGT      |L5.2512|
0009be  34ff              ADDS     r4,r4,#0xff
0009c0  7821              LDRB     r1,[r4,#0]
0009c2  1c48              ADDS     r0,r1,#1
0009c4  7020              STRB     r0,[r4,#0]
0009c6  3cff              SUBS     r4,r4,#0xff
0009c8  5c60              LDRB     r0,[r4,r1]
0009ca  49ac              LDR      r1,|L5.3196|
0009cc  7008              STRB     r0,[r1,#0]
0009ce  e002              B        |L5.2518|
                  |L5.2512|
0009d0  2000              MOVS     r0,#0
0009d2  49aa              LDR      r1,|L5.3196|
0009d4  7008              STRB     r0,[r1,#0]
                  |L5.2518|
;;;359            BYTEFromPack((*pack), btValue[1]);
0009d6  f89400ff          LDRB     r0,[r4,#0xff]
0009da  1c40              ADDS     r0,r0,#1
0009dc  f8b41100          LDRH     r1,[r4,#0x100]
0009e0  4288              CMP      r0,r1
0009e2  dc08              BGT      |L5.2550|
0009e4  34ff              ADDS     r4,r4,#0xff
0009e6  7821              LDRB     r1,[r4,#0]
0009e8  1c48              ADDS     r0,r1,#1
0009ea  7020              STRB     r0,[r4,#0]
0009ec  3cff              SUBS     r4,r4,#0xff
0009ee  5c60              LDRB     r0,[r4,r1]
0009f0  49a2              LDR      r1,|L5.3196|
0009f2  7048              STRB     r0,[r1,#1]
0009f4  e002              B        |L5.2556|
                  |L5.2550|
0009f6  2000              MOVS     r0,#0
0009f8  49a0              LDR      r1,|L5.3196|
0009fa  7048              STRB     r0,[r1,#1]
                  |L5.2556|
;;;360            BYTEFromPack((*pack), btValue[2]);
0009fc  f89400ff          LDRB     r0,[r4,#0xff]
000a00  1c40              ADDS     r0,r0,#1
000a02  f8b41100          LDRH     r1,[r4,#0x100]
000a06  4288              CMP      r0,r1
000a08  dc08              BGT      |L5.2588|
000a0a  34ff              ADDS     r4,r4,#0xff
000a0c  7821              LDRB     r1,[r4,#0]
000a0e  1c48              ADDS     r0,r1,#1
000a10  7020              STRB     r0,[r4,#0]
000a12  3cff              SUBS     r4,r4,#0xff
000a14  5c60              LDRB     r0,[r4,r1]
000a16  4999              LDR      r1,|L5.3196|
000a18  7088              STRB     r0,[r1,#2]
000a1a  e002              B        |L5.2594|
                  |L5.2588|
000a1c  2000              MOVS     r0,#0
000a1e  4997              LDR      r1,|L5.3196|
000a20  7088              STRB     r0,[r1,#2]
                  |L5.2594|
;;;361            BYTEFromPack((*pack), btValue[3]);
000a22  f89400ff          LDRB     r0,[r4,#0xff]
000a26  1c40              ADDS     r0,r0,#1
000a28  f8b41100          LDRH     r1,[r4,#0x100]
000a2c  4288              CMP      r0,r1
000a2e  dc08              BGT      |L5.2626|
000a30  34ff              ADDS     r4,r4,#0xff
000a32  7821              LDRB     r1,[r4,#0]
000a34  1c48              ADDS     r0,r1,#1
000a36  7020              STRB     r0,[r4,#0]
000a38  3cff              SUBS     r4,r4,#0xff
000a3a  5c60              LDRB     r0,[r4,r1]
000a3c  498f              LDR      r1,|L5.3196|
000a3e  70c8              STRB     r0,[r1,#3]
000a40  e002              B        |L5.2632|
                  |L5.2626|
000a42  2000              MOVS     r0,#0
000a44  498d              LDR      r1,|L5.3196|
000a46  70c8              STRB     r0,[r1,#3]
                  |L5.2632|
;;;362            BYTEFromPack((*pack), btValue[4]);
000a48  f89400ff          LDRB     r0,[r4,#0xff]
000a4c  1c40              ADDS     r0,r0,#1
000a4e  f8b41100          LDRH     r1,[r4,#0x100]
000a52  4288              CMP      r0,r1
000a54  dc08              BGT      |L5.2664|
000a56  34ff              ADDS     r4,r4,#0xff
000a58  7821              LDRB     r1,[r4,#0]
000a5a  1c48              ADDS     r0,r1,#1
000a5c  7020              STRB     r0,[r4,#0]
000a5e  3cff              SUBS     r4,r4,#0xff
000a60  5c60              LDRB     r0,[r4,r1]
000a62  4986              LDR      r1,|L5.3196|
000a64  7108              STRB     r0,[r1,#4]
000a66  e002              B        |L5.2670|
                  |L5.2664|
000a68  2000              MOVS     r0,#0
000a6a  4984              LDR      r1,|L5.3196|
000a6c  7108              STRB     r0,[r1,#4]
                  |L5.2670|
;;;363            if (btValue[0] == 'B' && btValue[1] == 'L' && btValue[2] == 'K' && btValue[3] == 'E' && btValue[4] == 'Y')
000a6e  4883              LDR      r0,|L5.3196|
000a70  7800              LDRB     r0,[r0,#0]  ; btValue
000a72  2842              CMP      r0,#0x42
000a74  d17e              BNE      |L5.2932|
000a76  4881              LDR      r0,|L5.3196|
000a78  7840              LDRB     r0,[r0,#1]  ; btValue
000a7a  284c              CMP      r0,#0x4c
000a7c  d17a              BNE      |L5.2932|
000a7e  487f              LDR      r0,|L5.3196|
000a80  7880              LDRB     r0,[r0,#2]  ; btValue
000a82  284b              CMP      r0,#0x4b
000a84  d176              BNE      |L5.2932|
000a86  487d              LDR      r0,|L5.3196|
000a88  78c0              LDRB     r0,[r0,#3]  ; btValue
000a8a  2845              CMP      r0,#0x45
000a8c  d172              BNE      |L5.2932|
000a8e  487b              LDR      r0,|L5.3196|
000a90  7900              LDRB     r0,[r0,#4]  ; btValue
000a92  2859              CMP      r0,#0x59
000a94  d16e              BNE      |L5.2932|
;;;364            {
;;;365                WORDFromPack((*pack), gGlobal.ReaderID);
000a96  f89400ff          LDRB     r0,[r4,#0xff]
000a9a  1c80              ADDS     r0,r0,#2
000a9c  f8b41100          LDRH     r1,[r4,#0x100]
000aa0  4288              CMP      r0,r1
000aa2  dc13              BGT      |L5.2764|
000aa4  34ff              ADDS     r4,r4,#0xff
000aa6  7821              LDRB     r1,[r4,#0]
000aa8  1c48              ADDS     r0,r1,#1
000aaa  7020              STRB     r0,[r4,#0]
000aac  3cff              SUBS     r4,r4,#0xff
000aae  5c60              LDRB     r0,[r4,r1]
000ab0  496f              LDR      r1,|L5.3184|
000ab2  8248              STRH     r0,[r1,#0x12]
000ab4  34ff              ADDS     r4,r4,#0xff
000ab6  7821              LDRB     r1,[r4,#0]
000ab8  1c48              ADDS     r0,r1,#1
000aba  7020              STRB     r0,[r4,#0]
000abc  3cff              SUBS     r4,r4,#0xff
000abe  5c60              LDRB     r0,[r4,r1]
000ac0  496b              LDR      r1,|L5.3184|
000ac2  8a49              LDRH     r1,[r1,#0x12]  ; gGlobal
000ac4  eb012000          ADD      r0,r1,r0,LSL #8
000ac8  4969              LDR      r1,|L5.3184|
000aca  8248              STRH     r0,[r1,#0x12]
                  |L5.2764|
;;;366                FLASH_If_DisableWriteProtection();
000acc  f7fffffe          BL       FLASH_If_DisableWriteProtection
;;;367                FLASH_If_Erase(0);//wyh
000ad0  2000              MOVS     r0,#0
000ad2  f7fffffe          BL       FLASH_If_Erase
;;;368                bOK = 1;
000ad6  2001              MOVS     r0,#1
000ad8  4969              LDR      r1,|L5.3200|
000ada  7008              STRB     r0,[r1,#0]
;;;369                PUSHPackHeader(SendPack);
000adc  4863              LDR      r0,|L5.3180|
000ade  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000ae2  1c40              ADDS     r0,r0,#1
000ae4  28ff              CMP      r0,#0xff
000ae6  da0b              BGE      |L5.2816|
000ae8  227f              MOVS     r2,#0x7f
000aea  4860              LDR      r0,|L5.3180|
000aec  f89010ff          LDRB     r1,[r0,#0xff]  ; SendPack
000af0  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000af4  1c40              ADDS     r0,r0,#1
000af6  4b5d              LDR      r3,|L5.3180|
000af8  f88300ff          STRB     r0,[r3,#0xff]
000afc  4618              MOV      r0,r3
000afe  5442              STRB     r2,[r0,r1]
                  |L5.2816|
000b00  485a              LDR      r0,|L5.3180|
000b02  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000b06  4959              LDR      r1,|L5.3180|
000b08  f8a10100          STRH     r0,[r1,#0x100]
000b0c  4608              MOV      r0,r1
000b0e  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000b12  1c40              ADDS     r0,r0,#1
000b14  28ff              CMP      r0,#0xff
000b16  da0b              BGE      |L5.2864|
000b18  227f              MOVS     r2,#0x7f
000b1a  4608              MOV      r0,r1
000b1c  f89010ff          LDRB     r1,[r0,#0xff]  ; SendPack
000b20  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000b24  1c40              ADDS     r0,r0,#1
000b26  4b51              LDR      r3,|L5.3180|
000b28  f88300ff          STRB     r0,[r3,#0xff]
000b2c  4618              MOV      r0,r3
000b2e  5442              STRB     r2,[r0,r1]
                  |L5.2864|
000b30  484e              LDR      r0,|L5.3180|
000b32  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000b36  494d              LDR      r1,|L5.3180|
000b38  f8a10100          STRH     r0,[r1,#0x100]
000b3c  4608              MOV      r0,r1
000b3e  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000b42  1c80              ADDS     r0,r0,#2
000b44  28ff              CMP      r0,#0xff
000b46  da1b              BGE      |L5.2944|
000b48  4849              LDR      r0,|L5.3184|
000b4a  7c82              LDRB     r2,[r0,#0x12]  ; gGlobal
000b4c  4608              MOV      r0,r1
000b4e  f89010ff          LDRB     r1,[r0,#0xff]  ; SendPack
000b52  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000b56  1c40              ADDS     r0,r0,#1
000b58  4b44              LDR      r3,|L5.3180|
000b5a  f88300ff          STRB     r0,[r3,#0xff]
000b5e  4618              MOV      r0,r3
000b60  5442              STRB     r2,[r0,r1]
000b62  4843              LDR      r0,|L5.3184|
000b64  8a40              LDRH     r0,[r0,#0x12]  ; gGlobal
000b66  0a01              LSRS     r1,r0,#8
000b68  4618              MOV      r0,r3
000b6a  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
000b6e  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000b72  e000              B        |L5.2934|
                  |L5.2932|
000b74  e03d              B        |L5.3058|
                  |L5.2934|
000b76  1c40              ADDS     r0,r0,#1
000b78  f88300ff          STRB     r0,[r3,#0xff]
000b7c  4618              MOV      r0,r3
000b7e  5481              STRB     r1,[r0,r2]
                  |L5.2944|
000b80  483a              LDR      r0,|L5.3180|
000b82  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000b86  4939              LDR      r1,|L5.3180|
000b88  f8a10100          STRH     r0,[r1,#0x100]
;;;370                BYTEToPack(SendPack, CMD_ENTER_BOOTLOADER);
000b8c  4608              MOV      r0,r1
000b8e  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000b92  1c40              ADDS     r0,r0,#1
000b94  28ff              CMP      r0,#0xff
000b96  da0b              BGE      |L5.2992|
000b98  21f3              MOVS     r1,#0xf3
000b9a  4834              LDR      r0,|L5.3180|
000b9c  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
000ba0  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000ba4  1c40              ADDS     r0,r0,#1
000ba6  4b31              LDR      r3,|L5.3180|
000ba8  f88300ff          STRB     r0,[r3,#0xff]
000bac  4618              MOV      r0,r3
000bae  5481              STRB     r1,[r0,r2]
                  |L5.2992|
000bb0  482e              LDR      r0,|L5.3180|
000bb2  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000bb6  492d              LDR      r1,|L5.3180|
000bb8  f8a10100          STRH     r0,[r1,#0x100]
;;;371                BYTEToPack(SendPack, 0x00);
000bbc  4608              MOV      r0,r1
000bbe  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000bc2  1c40              ADDS     r0,r0,#1
000bc4  28ff              CMP      r0,#0xff
000bc6  da0d              BGE      |L5.3044|
000bc8  2100              MOVS     r1,#0
000bca  4828              LDR      r0,|L5.3180|
000bcc  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
000bd0  e000              B        |L5.3028|
                  |L5.3026|
000bd2  e0ac              B        |L5.3374|
                  |L5.3028|
000bd4  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000bd8  1c40              ADDS     r0,r0,#1
000bda  4b24              LDR      r3,|L5.3180|
000bdc  f88300ff          STRB     r0,[r3,#0xff]
000be0  4618              MOV      r0,r3
000be2  5481              STRB     r1,[r0,r2]
                  |L5.3044|
000be4  4821              LDR      r0,|L5.3180|
000be6  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000bea  4920              LDR      r1,|L5.3180|
000bec  f8a10100          STRH     r0,[r1,#0x100]
000bf0  e095              B        |L5.3358|
                  |L5.3058|
;;;372            }else{
;;;373                bOK = 0;
000bf2  2000              MOVS     r0,#0
000bf4  4922              LDR      r1,|L5.3200|
000bf6  7008              STRB     r0,[r1,#0]
;;;374                PUSHPackHeader(SendPack);
000bf8  481c              LDR      r0,|L5.3180|
000bfa  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000bfe  1c40              ADDS     r0,r0,#1
000c00  28ff              CMP      r0,#0xff
000c02  da0b              BGE      |L5.3100|
000c04  217f              MOVS     r1,#0x7f
000c06  4819              LDR      r0,|L5.3180|
000c08  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
000c0c  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000c10  1c40              ADDS     r0,r0,#1
000c12  4b16              LDR      r3,|L5.3180|
000c14  f88300ff          STRB     r0,[r3,#0xff]
000c18  4618              MOV      r0,r3
000c1a  5481              STRB     r1,[r0,r2]
                  |L5.3100|
000c1c  4813              LDR      r0,|L5.3180|
000c1e  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000c22  4912              LDR      r1,|L5.3180|
000c24  f8a10100          STRH     r0,[r1,#0x100]
000c28  4608              MOV      r0,r1
000c2a  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000c2e  1c40              ADDS     r0,r0,#1
000c30  28ff              CMP      r0,#0xff
000c32  da0b              BGE      |L5.3148|
000c34  217f              MOVS     r1,#0x7f
000c36  480d              LDR      r0,|L5.3180|
000c38  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
000c3c  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000c40  1c40              ADDS     r0,r0,#1
000c42  4b0a              LDR      r3,|L5.3180|
000c44  f88300ff          STRB     r0,[r3,#0xff]
000c48  4618              MOV      r0,r3
000c4a  5481              STRB     r1,[r0,r2]
                  |L5.3148|
000c4c  4807              LDR      r0,|L5.3180|
000c4e  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000c52  4906              LDR      r1,|L5.3180|
000c54  f8a10100          STRH     r0,[r1,#0x100]
000c58  4608              MOV      r0,r1
000c5a  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000c5e  1c80              ADDS     r0,r0,#2
000c60  28ff              CMP      r0,#0xff
000c62  da26              BGE      |L5.3250|
000c64  4802              LDR      r0,|L5.3184|
000c66  7c81              LDRB     r1,[r0,#0x12]  ; gGlobal
000c68  4800              LDR      r0,|L5.3180|
000c6a  e00b              B        |L5.3204|
                  |L5.3180|
                          DCD      SendPack
                  |L5.3184|
                          DCD      gGlobal
                  |L5.3188|
                          DCD      0x08010000
                  |L5.3192|
                          DCD      LocalTime
                  |L5.3196|
                          DCD      btValue
                  |L5.3200|
                          DCD      bOK
                  |L5.3204|
000c84  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
000c88  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000c8c  1c40              ADDS     r0,r0,#1
000c8e  4b29              LDR      r3,|L5.3380|
000c90  f88300ff          STRB     r0,[r3,#0xff]
000c94  4618              MOV      r0,r3
000c96  5481              STRB     r1,[r0,r2]
000c98  4827              LDR      r0,|L5.3384|
000c9a  8a40              LDRH     r0,[r0,#0x12]  ; gGlobal
000c9c  0a01              LSRS     r1,r0,#8
000c9e  4618              MOV      r0,r3
000ca0  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
000ca4  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000ca8  1c40              ADDS     r0,r0,#1
000caa  f88300ff          STRB     r0,[r3,#0xff]
000cae  4618              MOV      r0,r3
000cb0  5481              STRB     r1,[r0,r2]
                  |L5.3250|
000cb2  4820              LDR      r0,|L5.3380|
000cb4  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000cb8  491e              LDR      r1,|L5.3380|
000cba  f8a10100          STRH     r0,[r1,#0x100]
;;;375                BYTEToPack(SendPack, CMD_ENTER_BOOTLOADER);
000cbe  4608              MOV      r0,r1
000cc0  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000cc4  1c40              ADDS     r0,r0,#1
000cc6  28ff              CMP      r0,#0xff
000cc8  da0b              BGE      |L5.3298|
000cca  22f3              MOVS     r2,#0xf3
000ccc  4608              MOV      r0,r1
000cce  f89010ff          LDRB     r1,[r0,#0xff]  ; SendPack
000cd2  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000cd6  1c40              ADDS     r0,r0,#1
000cd8  4b16              LDR      r3,|L5.3380|
000cda  f88300ff          STRB     r0,[r3,#0xff]
000cde  4618              MOV      r0,r3
000ce0  5442              STRB     r2,[r0,r1]
                  |L5.3298|
000ce2  4814              LDR      r0,|L5.3380|
000ce4  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000ce8  4912              LDR      r1,|L5.3380|
000cea  f8a10100          STRH     r0,[r1,#0x100]
;;;376                BYTEToPack(SendPack, 0x01);
000cee  4608              MOV      r0,r1
000cf0  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000cf4  1c40              ADDS     r0,r0,#1
000cf6  28ff              CMP      r0,#0xff
000cf8  da0b              BGE      |L5.3346|
000cfa  2101              MOVS     r1,#1
000cfc  480d              LDR      r0,|L5.3380|
000cfe  f89020ff          LDRB     r2,[r0,#0xff]  ; SendPack
000d02  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000d06  1c40              ADDS     r0,r0,#1
000d08  4b0a              LDR      r3,|L5.3380|
000d0a  f88300ff          STRB     r0,[r3,#0xff]
000d0e  4618              MOV      r0,r3
000d10  5481              STRB     r1,[r0,r2]
                  |L5.3346|
000d12  4808              LDR      r0,|L5.3380|
000d14  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000d18  4906              LDR      r1,|L5.3380|
000d1a  f8a10100          STRH     r0,[r1,#0x100]
                  |L5.3358|
;;;377            }
;;;378            FinishPack(&SendPack);
000d1e  4805              LDR      r0,|L5.3380|
000d20  f7fffffe          BL       FinishPack
;;;379            SendUp(&SendPack);
000d24  4803              LDR      r0,|L5.3380|
000d26  f7fffffe          BL       SendUp
;;;380            break;
000d2a  e000              B        |L5.3374|
                  |L5.3372|
;;;381        default:
;;;382            break;
000d2c  bf00              NOP      
                  |L5.3374|
000d2e  bf00              NOP                            ;311
;;;383        }
;;;384    }
000d30  e8bd83f8          POP      {r3-r9,pc}
;;;385    void UARTLoop(COMMTYPE COM)
                          ENDP

                  |L5.3380|
                          DCD      SendPack
                  |L5.3384|
                          DCD      gGlobal

                          AREA ||i.SendUp||, CODE, READONLY, ALIGN=2

                  SendUp PROC
;;;123    }
;;;124    void SendUp(All_PACK *pPack)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;125    {	        
000004  4604              MOV      r4,r0
;;;126    					uint8_t iCount,i;
;;;127    					uint16_t maxlen;
;;;128    	        uint8_t *sendbuf;
;;;129    					iCount = pPack->m_Len;
000006  f8948100          LDRB     r8,[r4,#0x100]
;;;130    					//do
;;;131    					{
;;;132    						tcpnet_poll();
00000a  f7fffffe          BL       tcpnet_poll
;;;133    						if (tcp_check_send (socket_tcp) == __TRUE) 
00000e  4816              LDR      r0,|L6.104|
000010  7800              LDRB     r0,[r0,#0]  ; socket_tcp
000012  f7fffffe          BL       tcp_check_send
000016  2801              CMP      r0,#1
000018  d123              BNE      |L6.98|
;;;134    						{
;;;135    							maxlen = tcp_max_dsize (socket_tcp);
00001a  4813              LDR      r0,|L6.104|
00001c  7800              LDRB     r0,[r0,#0]  ; socket_tcp
00001e  f7fffffe          BL       tcp_max_dsize
000022  4607              MOV      r7,r0
;;;136    							iCount -= maxlen;
000024  eba80007          SUB      r0,r8,r7
000028  f00008ff          AND      r8,r0,#0xff
;;;137    							
;;;138    							if(iCount < 0)
00002c  f1b80f00          CMP      r8,#0
000030  da02              BGE      |L6.56|
;;;139    							{
;;;140    									maxlen = iCount + maxlen;
000032  eb080007          ADD      r0,r8,r7
000036  b287              UXTH     r7,r0
                  |L6.56|
;;;141    							}							
;;;142    							sendbuf = tcp_get_buf(maxlen);
000038  4638              MOV      r0,r7
00003a  f7fffffe          BL       tcp_get_buf
00003e  4606              MOV      r6,r0
;;;143    							for(i=0;i<pPack->m_Len;i++)
000040  2500              MOVS     r5,#0
000042  e003              B        |L6.76|
                  |L6.68|
;;;144    							{
;;;145    									sendbuf[i] = pPack->m_pBuffer[i];
000044  5d60              LDRB     r0,[r4,r5]
000046  5570              STRB     r0,[r6,r5]
000048  1c68              ADDS     r0,r5,#1              ;143
00004a  b2c5              UXTB     r5,r0                 ;143
                  |L6.76|
00004c  f8b40100          LDRH     r0,[r4,#0x100]        ;143
000050  42a8              CMP      r0,r5                 ;143
000052  dcf7              BGT      |L6.68|
;;;146    							}						
;;;147    							tcp_send (socket_tcp, sendbuf, pPack->m_Len);
000054  f8b42100          LDRH     r2,[r4,#0x100]
000058  4631              MOV      r1,r6
00005a  4803              LDR      r0,|L6.104|
00005c  7800              LDRB     r0,[r0,#0]  ; socket_tcp
00005e  f7fffffe          BL       tcp_send
                  |L6.98|
;;;148    						}
;;;149    						
;;;150    					}//while(iCount > 0);	
;;;151    }
000062  e8bd81f0          POP      {r4-r8,pc}
;;;152    
                          ENDP

000066  0000              DCW      0x0000
                  |L6.104|
                          DCD      socket_tcp

                          AREA ||i.TCP_StatusCheck||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_percent
                          REQUIRE _printf_d
                          REQUIRE _printf_int_dec
                  TCP_StatusCheck PROC
;;;486    */
;;;487    uint8_t TCP_StatusCheck(void) 
000000  b510              PUSH     {r4,lr}
;;;488    {
;;;489    	uint8_t res;
;;;490    	
;;;491    	switch (tcp_get_state(socket_tcp)) 
000002  4810              LDR      r0,|L7.68|
000004  7800              LDRB     r0,[r0,#0]  ; socket_tcp
000006  f7fffffe          BL       tcp_get_state
00000a  b130              CBZ      r0,|L7.26|
00000c  2801              CMP      r0,#1
00000e  d005              BEQ      |L7.28|
000010  2802              CMP      r0,#2
000012  d00f              BEQ      |L7.52|
000014  280a              CMP      r0,#0xa
000016  d110              BNE      |L7.58|
000018  e00d              B        |L7.54|
                  |L7.26|
;;;492    	{
;;;493    		case TCP_STATE_FREE:
;;;494    		case TCP_STATE_CLOSED:
00001a  bf00              NOP      
                  |L7.28|
;;;495    			res = tcp_listen (socket_tcp, PORT_NUM);
00001c  f24031e9          MOV      r1,#0x3e9
000020  4808              LDR      r0,|L7.68|
000022  7800              LDRB     r0,[r0,#0]  ; socket_tcp
000024  f7fffffe          BL       tcp_listen
000028  b2c4              UXTB     r4,r0
;;;496    			printf_debug("tcp listen res = %d\r\n", res);
00002a  4621              MOV      r1,r4
00002c  a006              ADR      r0,|L7.72|
00002e  f7fffffe          BL       __2printf
;;;497    			break;
000032  e003              B        |L7.60|
                  |L7.52|
;;;498    		
;;;499    		case TCP_STATE_LISTEN:
;;;500    			break;
000034  e002              B        |L7.60|
                  |L7.54|
;;;501    		
;;;502    		case TCP_STATE_CONNECT:
;;;503    			return (__TRUE);
000036  2001              MOVS     r0,#1
                  |L7.56|
;;;504    			
;;;505    		default:  
;;;506    			break;
;;;507    	}
;;;508    	
;;;509    	return (__FALSE);
;;;510    }
000038  bd10              POP      {r4,pc}
                  |L7.58|
00003a  bf00              NOP                            ;506
                  |L7.60|
00003c  bf00              NOP                            ;497
00003e  2000              MOVS     r0,#0                 ;509
000040  e7fa              B        |L7.56|
;;;511    
                          ENDP

000042  0000              DCW      0x0000
                  |L7.68|
                          DCD      socket_tcp
                  |L7.72|
000048  74637020          DCB      "tcp listen res = %d\r\n",0
00004c  6c697374
000050  656e2072
000054  6573203d
000058  2025640d
00005c  0a00    
00005e  00                DCB      0
00005f  00                DCB      0

                          AREA ||i.TCPnetTest||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_percent
                          REQUIRE _printf_d
                          REQUIRE _printf_int_dec
                  TCPnetTest PROC
;;;537    */
;;;538    void TCPnetTest(void)
000000  f7fffffe          BL       FLASH_If_Init
;;;539    {  
;;;540    	uint8_t tcp_status;
;;;541    	uint8_t res,i;
;;;542    	uint8_t ucKeyCode;
;;;543    	FLASH_If_Init();
;;;544    	/*  */
;;;545    	init_TcpNet ();
000004  f7fffffe          BL       init_TcpNet
;;;546    	/* 
;;;547    	   TCP Socket10
;;;548    	   TCP_TYPE_KEEP_ALIVE10
;;;549    	*/
;;;550      socket_tcp = tcp_get_socket (TCP_TYPE_SERVER | TCP_TYPE_KEEP_ALIVE, 0, 10, tcp_callback);
000008  4b34              LDR      r3,|L8.220|
00000a  220a              MOVS     r2,#0xa
00000c  2100              MOVS     r1,#0
00000e  2011              MOVS     r0,#0x11
000010  f7fffffe          BL       tcp_get_socket
000014  4932              LDR      r1,|L8.224|
000016  7008              STRB     r0,[r1,#0]
;;;551    	if(socket_tcp != 0)
000018  4608              MOV      r0,r1
00001a  7800              LDRB     r0,[r0,#0]  ; socket_tcp
00001c  b150              CBZ      r0,|L8.52|
;;;552    	{
;;;553    		 res = tcp_listen (socket_tcp, PORT_NUM);
00001e  f24031e9          MOV      r1,#0x3e9
000022  482f              LDR      r0,|L8.224|
000024  7800              LDRB     r0,[r0,#0]  ; socket_tcp
000026  f7fffffe          BL       tcp_listen
00002a  b2c7              UXTB     r7,r0
;;;554    		 printf_debug("tcp listen res = %d\r\n", res);
00002c  4639              MOV      r1,r7
00002e  a02d              ADR      r0,|L8.228|
000030  f7fffffe          BL       __2printf
                  |L8.52|
;;;555    	}
;;;556    	/* 100ms */
;;;557      bsp_StartAutoTimer(0, 100);	
000034  2164              MOVS     r1,#0x64
000036  2000              MOVS     r0,#0
000038  f7fffffe          BL       bsp_StartAutoTimer
;;;558    	while (1) 
00003c  e04d              B        |L8.218|
                  |L8.62|
;;;559    	{
;;;560    		if (bOK==0)
00003e  482f              LDR      r0,|L8.252|
000040  7800              LDRB     r0,[r0,#0]  ; bOK
000042  b958              CBNZ     r0,|L8.92|
;;;561    		{
;;;562    			 if (LocalTime>10000)//
000044  482e              LDR      r0,|L8.256|
000046  6800              LDR      r0,[r0,#0]  ; LocalTime
000048  f2427110          MOV      r1,#0x2710
00004c  4288              CMP      r0,r1
00004e  d905              BLS      |L8.92|
;;;563    			 {
;;;564    						//
;;;565    						tcp_close (socket_tcp);
000050  4823              LDR      r0,|L8.224|
000052  7800              LDRB     r0,[r0,#0]  ; socket_tcp
000054  f7fffffe          BL       tcp_close
;;;566    						//
;;;567    						NVIC_SystemReset();
000058  f7fffffe          BL       NVIC_SystemReset
                  |L8.92|
;;;568    			 }
;;;569    		}
;;;570    		/* TCP */
;;;571    		tcpnet_poll();		
00005c  f7fffffe          BL       tcpnet_poll
;;;572    		/*  */
;;;573    		tcp_status = TCP_StatusCheck();
000060  f7fffffe          BL       TCP_StatusCheck
000064  4606              MOV      r6,r0
;;;574    		ucKeyCode = bsp_GetKey();
000066  f7fffffe          BL       bsp_GetKey
00006a  4604              MOV      r4,r0
;;;575    		if ((ucKeyCode != KEY_NONE)&&(tcp_status == __TRUE))
00006c  b36c              CBZ      r4,|L8.202|
00006e  2e01              CMP      r6,#1
000070  d12b              BNE      |L8.202|
;;;576    		{
;;;577    				switch (ucKeyCode)
000072  2c01              CMP      r4,#1
000074  d127              BNE      |L8.198|
;;;578    				{
;;;579    					case KEY_DOWN_K1:
;;;580    					{
;;;581    						 for(i=0;i<8;i++)
000076  2500              MOVS     r5,#0
000078  e018              B        |L8.172|
                  |L8.122|
;;;582    						 {
;;;583    							  BYTEToPack(SendPack, i);;
00007a  4822              LDR      r0,|L8.260|
00007c  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000080  1c40              ADDS     r0,r0,#1
000082  28ff              CMP      r0,#0xff
000084  da0a              BGE      |L8.156|
000086  481f              LDR      r0,|L8.260|
000088  f89010ff          LDRB     r1,[r0,#0xff]  ; SendPack
00008c  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
000090  1c40              ADDS     r0,r0,#1
000092  4a1c              LDR      r2,|L8.260|
000094  f88200ff          STRB     r0,[r2,#0xff]
000098  4610              MOV      r0,r2
00009a  5445              STRB     r5,[r0,r1]
                  |L8.156|
00009c  4819              LDR      r0,|L8.260|
00009e  f89000ff          LDRB     r0,[r0,#0xff]  ; SendPack
0000a2  4918              LDR      r1,|L8.260|
0000a4  f8a10100          STRH     r0,[r1,#0x100]
0000a8  1c68              ADDS     r0,r5,#1              ;581
0000aa  b2c5              UXTB     r5,r0                 ;581
                  |L8.172|
0000ac  2d08              CMP      r5,#8                 ;581
0000ae  dbe4              BLT      |L8.122|
;;;584    						 }
;;;585    						 SendUp(&SendPack);
0000b0  4814              LDR      r0,|L8.260|
0000b2  f7fffffe          BL       SendUp
;;;586    						 InitPack(SendPack);
0000b6  2000              MOVS     r0,#0
0000b8  4912              LDR      r1,|L8.260|
0000ba  f88100ff          STRB     r0,[r1,#0xff]
0000be  f8a10100          STRH     r0,[r1,#0x100]
0000c2  7008              STRB     r0,[r1,#0]
;;;587    					}
;;;588    					break;
0000c4  e000              B        |L8.200|
                  |L8.198|
;;;589    					default:
;;;590    					{
;;;591    						;
;;;592    					}
;;;593    					break;
0000c6  bf00              NOP      
                  |L8.200|
0000c8  bf00              NOP                            ;588
                  |L8.202|
;;;594    				}
;;;595    			
;;;596    		}			
;;;597    		if (gGlobal.CommType != 0xFF)
0000ca  480f              LDR      r0,|L8.264|
0000cc  7d00              LDRB     r0,[r0,#0x14]  ; gGlobal
0000ce  28ff              CMP      r0,#0xff
0000d0  d003              BEQ      |L8.218|
;;;598    		{
;;;599            UARTLoop(gGlobal.CommType);
0000d2  490d              LDR      r1,|L8.264|
0000d4  7d08              LDRB     r0,[r1,#0x14]  ; gGlobal
0000d6  f7fffffe          BL       UARTLoop
                  |L8.218|
0000da  e7b0              B        |L8.62|
;;;600    		}
;;;601    
;;;602    	}
;;;603    }
;;;604    
                          ENDP

                  |L8.220|
                          DCD      tcp_callback
                  |L8.224|
                          DCD      socket_tcp
                  |L8.228|
0000e4  74637020          DCB      "tcp listen res = %d\r\n",0
0000e8  6c697374
0000ec  656e2072
0000f0  6573203d
0000f4  2025640d
0000f8  0a00    
0000fa  00                DCB      0
0000fb  00                DCB      0
                  |L8.252|
                          DCD      bOK
                  |L8.256|
                          DCD      LocalTime
                  |L8.260|
                          DCD      SendPack
                  |L8.264|
                          DCD      gGlobal

                          AREA ||i.UARTLoop||, CODE, READONLY, ALIGN=2

                  UARTLoop PROC
;;;384    }
;;;385    void UARTLoop(COMMTYPE COM)
000000  b570              PUSH     {r4-r6,lr}
;;;386    {
000002  4604              MOV      r4,r0
;;;387        unsigned char i,btPackIndex;
;;;388        btPackIndex = 0xFF;
000004  25ff              MOVS     r5,#0xff
;;;389        for (i=0;i<COM_CACHE_PACK_COUNT;i++)
000006  2600              MOVS     r6,#0
000008  e071              B        |L9.238|
                  |L9.10|
;;;390        {
;;;391            if (gComSet[COM].m_RecvPack[gComSet[COM].m_PopIndex].m_Len > 0)
00000a  eb0410c4          ADD      r0,r4,r4,LSL #7
00000e  eb002044          ADD      r0,r0,r4,LSL #9
000012  4949              LDR      r1,|L9.312|
000014  eb010040          ADD      r0,r1,r0,LSL #1
000018  f50070fd          ADD      r0,r0,#0x1fa
00001c  eb0411c4          ADD      r1,r4,r4,LSL #7
000020  eb012144          ADD      r1,r1,r4,LSL #9
000024  4a44              LDR      r2,|L9.312|
000026  eb020141          ADD      r1,r2,r1,LSL #1
00002a  f8911501          LDRB     r1,[r1,#0x501]
00002e  eb0111c1          ADD      r1,r1,r1,LSL #7
000032  eb000041          ADD      r0,r0,r1,LSL #1
000036  f8b00100          LDRH     r0,[r0,#0x100]
00003a  2800              CMP      r0,#0
00003c  dd2e              BLE      |L9.156|
;;;392            {
;;;393                btPackIndex = gComSet[COM].m_PopIndex;
00003e  eb0410c4          ADD      r0,r4,r4,LSL #7
000042  eb002044          ADD      r0,r0,r4,LSL #9
000046  4611              MOV      r1,r2
000048  eb010040          ADD      r0,r1,r0,LSL #1
00004c  f8905501          LDRB     r5,[r0,#0x501]
;;;394                gComSet[COM].m_PopIndex++;
000050  eb0410c4          ADD      r0,r4,r4,LSL #7
000054  eb002044          ADD      r0,r0,r4,LSL #9
000058  eb010040          ADD      r0,r1,r0,LSL #1
00005c  f8900501          LDRB     r0,[r0,#0x501]
000060  1c40              ADDS     r0,r0,#1
000062  eb0411c4          ADD      r1,r4,r4,LSL #7
000066  eb012144          ADD      r1,r1,r4,LSL #9
00006a  eb020141          ADD      r1,r2,r1,LSL #1
00006e  f8810501          STRB     r0,[r1,#0x501]
;;;395                if (gComSet[COM].m_PopIndex >= COM_CACHE_PACK_COUNT)
000072  eb0410c4          ADD      r0,r4,r4,LSL #7
000076  eb002044          ADD      r0,r0,r4,LSL #9
00007a  4611              MOV      r1,r2
00007c  eb010040          ADD      r0,r1,r0,LSL #1
000080  f8900501          LDRB     r0,[r0,#0x501]
000084  2803              CMP      r0,#3
000086  db08              BLT      |L9.154|
;;;396                {
;;;397                    gComSet[COM].m_PopIndex = 0;
000088  2000              MOVS     r0,#0
00008a  eb0411c4          ADD      r1,r4,r4,LSL #7
00008e  eb012144          ADD      r1,r1,r4,LSL #9
000092  eb020141          ADD      r1,r2,r1,LSL #1
000096  f8810501          STRB     r0,[r1,#0x501]
                  |L9.154|
;;;398                }
;;;399                break;
00009a  e02a              B        |L9.242|
                  |L9.156|
;;;400            }
;;;401            gComSet[COM].m_PopIndex++;
00009c  eb0410c4          ADD      r0,r4,r4,LSL #7
0000a0  eb002044          ADD      r0,r0,r4,LSL #9
0000a4  4924              LDR      r1,|L9.312|
0000a6  eb010040          ADD      r0,r1,r0,LSL #1
0000aa  f8900501          LDRB     r0,[r0,#0x501]
0000ae  1c40              ADDS     r0,r0,#1
0000b0  eb0411c4          ADD      r1,r4,r4,LSL #7
0000b4  eb012144          ADD      r1,r1,r4,LSL #9
0000b8  4a1f              LDR      r2,|L9.312|
0000ba  eb020141          ADD      r1,r2,r1,LSL #1
0000be  f8810501          STRB     r0,[r1,#0x501]
;;;402            if (gComSet[COM].m_PopIndex >= COM_CACHE_PACK_COUNT)
0000c2  eb0410c4          ADD      r0,r4,r4,LSL #7
0000c6  eb002044          ADD      r0,r0,r4,LSL #9
0000ca  4611              MOV      r1,r2
0000cc  eb010040          ADD      r0,r1,r0,LSL #1
0000d0  f8900501          LDRB     r0,[r0,#0x501]
0000d4  2803              CMP      r0,#3
0000d6  db08              BLT      |L9.234|
;;;403            {
;;;404                gComSet[COM].m_PopIndex = 0;
0000d8  2000              MOVS     r0,#0
0000da  eb0411c4          ADD      r1,r4,r4,LSL #7
0000de  eb012144          ADD      r1,r1,r4,LSL #9
0000e2  eb020141          ADD      r1,r2,r1,LSL #1
0000e6  f8810501          STRB     r0,[r1,#0x501]
                  |L9.234|
0000ea  1c70              ADDS     r0,r6,#1              ;389
0000ec  b2c6              UXTB     r6,r0                 ;389
                  |L9.238|
0000ee  2e03              CMP      r6,#3                 ;389
0000f0  db8b              BLT      |L9.10|
                  |L9.242|
0000f2  bf00              NOP                            ;399
;;;405            }
;;;406        }
;;;407        if (btPackIndex != 0xFF)
0000f4  2dff              CMP      r5,#0xff
0000f6  d01e              BEQ      |L9.310|
;;;408        {
;;;409            ProcessUpCmd(&gComSet[COM].m_RecvPack[btPackIndex]);
0000f8  eb0411c4          ADD      r1,r4,r4,LSL #7
0000fc  eb012144          ADD      r1,r1,r4,LSL #9
000100  4a0d              LDR      r2,|L9.312|
000102  eb020141          ADD      r1,r2,r1,LSL #1
000106  f50171fd          ADD      r1,r1,#0x1fa
00010a  eb0512c5          ADD      r2,r5,r5,LSL #7
00010e  eb010042          ADD      r0,r1,r2,LSL #1
000112  f7fffffe          BL       ProcessUpCmd
;;;410            gComSet[COM].m_RecvPack[btPackIndex].m_Len = 0;
000116  2100              MOVS     r1,#0
000118  eb0410c4          ADD      r0,r4,r4,LSL #7
00011c  eb002044          ADD      r0,r0,r4,LSL #9
000120  4a05              LDR      r2,|L9.312|
000122  eb020040          ADD      r0,r2,r0,LSL #1
000126  f50070fd          ADD      r0,r0,#0x1fa
00012a  eb0512c5          ADD      r2,r5,r5,LSL #7
00012e  eb000042          ADD      r0,r0,r2,LSL #1
000132  f8a01100          STRH     r1,[r0,#0x100]
                  |L9.310|
;;;411        }
;;;412    }
000136  bd70              POP      {r4-r6,pc}
;;;413    /*
                          ENDP

                  |L9.312|
                          DCD      gComSet

                          AREA ||i.tcp_callback||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_percent
                          REQUIRE _printf_d
                          REQUIRE _printf_int_dec
                          REQUIRE _printf_s
                          REQUIRE _printf_str
                  tcp_callback PROC
;;;423    */
;;;424    U16 tcp_callback (U8 soc, U8 evt, U8 *ptr, U16 par)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;425    {
000004  b090              SUB      sp,sp,#0x40
000006  4680              MOV      r8,r0
000008  460f              MOV      r7,r1
00000a  4614              MOV      r4,r2
00000c  461e              MOV      r6,r3
;;;426    	char buf[50];
;;;427    	uint16_t i;
;;;428    	
;;;429    	/* socket_tcp */
;;;430    	if (soc != socket_tcp) 
00000e  4821              LDR      r0,|L10.148|
000010  7800              LDRB     r0,[r0,#0]  ; socket_tcp
000012  4580              CMP      r8,r0
000014  d003              BEQ      |L10.30|
;;;431    	{
;;;432    		return (0);
000016  2000              MOVS     r0,#0
                  |L10.24|
;;;433    	}
;;;434    
;;;435    	switch (evt) 
;;;436    	{
;;;437    		/*
;;;438    			
;;;439    		    1ptrIPpar
;;;440    		    210
;;;441    		*/
;;;442    		case TCP_EVT_CONREQ:
;;;443    			sprintf(buf, "IP: %d.%d.%d.%d", ptr[0], ptr[1], ptr[2], ptr[3]);
;;;444    			printf_debug("IP:%s  port:%d\r\n", buf, par);
;;;445    			return (1);
;;;446    		
;;;447    		/*  */
;;;448    		case TCP_EVT_ABORT:
;;;449    			break;
;;;450    		
;;;451    		/* Socket */
;;;452    		case TCP_EVT_CONNECT:
;;;453    			printf_debug("Socket is connected to remote peer\r\n");
;;;454    			break;
;;;455    		
;;;456    		/*  */
;;;457    		case TCP_EVT_CLOSE:
;;;458    		   	printf_debug("Connection has been closed\r\n");
;;;459    			break;
;;;460    		
;;;461    		/*  */
;;;462    		case TCP_EVT_ACK:
;;;463    	  break;
;;;464    		
;;;465    		/* TCPptrpar */
;;;466    		case TCP_EVT_DATA:
;;;467    			printf_debug("Data length = %d\r\n", par);
;;;468    			for(i = 0; i < par; i++)
;;;469    			{
;;;470    				  printf_debug("ptr[%d] = %d\r\n", i, ptr[i]);
;;;471    				  ProcessData(gGlobal.CommType, ptr[i]);
;;;472    			}
;;;473    			break;
;;;474    	}	
;;;475    	return (0);
;;;476    }
000018  b010              ADD      sp,sp,#0x40
00001a  e8bd81f0          POP      {r4-r8,pc}
                  |L10.30|
00001e  2f06              CMP      r7,#6                 ;435
000020  d234              BCS      |L10.140|
000022  e8dff007          TBB      [pc,r7]               ;435
000026  0315              DCB      0x03,0x15
000028  19141d1e          DCB      0x19,0x14,0x1d,0x1e
00002c  78e0              LDRB     r0,[r4,#3]            ;443
00002e  78a1              LDRB     r1,[r4,#2]            ;443
000030  e9cd1000          STRD     r1,r0,[sp,#0]         ;443
000034  7863              LDRB     r3,[r4,#1]            ;443
000036  7822              LDRB     r2,[r4,#0]            ;443
000038  a117              ADR      r1,|L10.152|
00003a  a803              ADD      r0,sp,#0xc            ;443
00003c  f7fffffe          BL       __2sprintf
000040  4632              MOV      r2,r6                 ;444
000042  a903              ADD      r1,sp,#0xc            ;444
000044  a01d              ADR      r0,|L10.188|
000046  f7fffffe          BL       __2printf
00004a  2001              MOVS     r0,#1                 ;445
00004c  e7e4              B        |L10.24|
00004e  e01d              B        |L10.140|
000050  a01f              ADR      r0,|L10.208|
000052  f7fffffe          BL       __2printf
000056  e019              B        |L10.140|
000058  a027              ADR      r0,|L10.248|
00005a  f7fffffe          BL       __2printf
00005e  e015              B        |L10.140|
000060  e014              B        |L10.140|
000062  4631              MOV      r1,r6                 ;467
000064  a02c              ADR      r0,|L10.280|
000066  f7fffffe          BL       __2printf
00006a  2500              MOVS     r5,#0                 ;468
00006c  e00b              B        |L10.134|
                  |L10.110|
00006e  5d62              LDRB     r2,[r4,r5]            ;470
000070  4629              MOV      r1,r5                 ;470
000072  a02e              ADR      r0,|L10.300|
000074  f7fffffe          BL       __2printf
000078  5d61              LDRB     r1,[r4,r5]            ;471
00007a  4a30              LDR      r2,|L10.316|
00007c  7d10              LDRB     r0,[r2,#0x14]         ;471  ; gGlobal
00007e  f7fffffe          BL       ProcessData
000082  1c68              ADDS     r0,r5,#1              ;468
000084  b285              UXTH     r5,r0                 ;468
                  |L10.134|
000086  42b5              CMP      r5,r6                 ;468
000088  dbf1              BLT      |L10.110|
00008a  bf00              NOP                            ;473
                  |L10.140|
00008c  bf00              NOP                            ;449
00008e  2000              MOVS     r0,#0                 ;475
000090  e7c2              B        |L10.24|
;;;477    
                          ENDP

000092  0000              DCW      0x0000
                  |L10.148|
                          DCD      socket_tcp
                  |L10.152|
000098  d4b6b3cc          DCB      212,182,179,204,191,205,187,167,182,203,199,235,199,243,193
00009c  bfcdbba7
0000a0  b6cbc7eb
0000a4  c7f3c1  
0000a7  acbdd349          DCB      172,189,211,"IP: %d.%d.%d.%d",0
0000ab  503a2025
0000af  642e2564
0000b3  2e25642e
0000b7  256400  
0000ba  00                DCB      0
0000bb  00                DCB      0
                  |L10.188|
0000bc  49503a25          DCB      "IP:%s  port:%d\r\n",0
0000c0  73202070
0000c4  6f72743a
0000c8  25640d0a
0000cc  00      
0000cd  00                DCB      0
0000ce  00                DCB      0
0000cf  00                DCB      0
                  |L10.208|
0000d0  536f636b          DCB      "Socket is connected to remote peer\r\n",0
0000d4  65742069
0000d8  7320636f
0000dc  6e6e6563
0000e0  74656420
0000e4  746f2072
0000e8  656d6f74
0000ec  65207065
0000f0  65720d0a
0000f4  00      
0000f5  00                DCB      0
0000f6  00                DCB      0
0000f7  00                DCB      0
                  |L10.248|
0000f8  436f6e6e          DCB      "Connection has been closed\r\n",0
0000fc  65637469
000100  6f6e2068
000104  61732062
000108  65656e20
00010c  636c6f73
000110  65640d0a
000114  00      
000115  00                DCB      0
000116  00                DCB      0
000117  00                DCB      0
                  |L10.280|
000118  44617461          DCB      "Data length = %d\r\n",0
00011c  206c656e
000120  67746820
000124  3d202564
000128  0d0a00  
00012b  00                DCB      0
                  |L10.300|
00012c  7074725b          DCB      "ptr[%d] = %d\r\n",0
000130  25645d20
000134  3d202564
000138  0d0a00  
00013b  00                DCB      0
                  |L10.316|
                          DCD      gGlobal

                          AREA ||i.tcpnet_poll||, CODE, READONLY, ALIGN=1

                  tcpnet_poll PROC
;;;519    */
;;;520    void tcpnet_poll(void)
000000  b510              PUSH     {r4,lr}
;;;521    {
;;;522    	if(bsp_CheckTimer(0))
000002  2000              MOVS     r0,#0
000004  f7fffffe          BL       bsp_CheckTimer
000008  b108              CBZ      r0,|L11.14|
;;;523    	{
;;;524    		/*  */
;;;525    		timer_tick ();
00000a  f7fffffe          BL       timer_tick
                  |L11.14|
;;;526    	}	
;;;527    	main_TcpNet ();
00000e  f7fffffe          BL       main_TcpNet
;;;528    }
000012  bd10              POP      {r4,pc}
;;;529    
                          ENDP


                          AREA ||.bss||, DATA, NOINIT, ALIGN=1

                  gGlobal
                          %        22
                  gComSet
                          %        5128
                  RecvPack
                          %        258
                  SendPack
                          %        258
                  Data
                          %        200

                          AREA ||.constdata||, DATA, READONLY, ALIGN=0

                  auchCRCHi
000000  00c18140          DCB      0x00,0xc1,0x81,0x40
000004  01c08041          DCB      0x01,0xc0,0x80,0x41
000008  01c08041          DCB      0x01,0xc0,0x80,0x41
00000c  00c18140          DCB      0x00,0xc1,0x81,0x40
000010  01c08041          DCB      0x01,0xc0,0x80,0x41
000014  00c18140          DCB      0x00,0xc1,0x81,0x40
000018  00c18140          DCB      0x00,0xc1,0x81,0x40
00001c  01c08041          DCB      0x01,0xc0,0x80,0x41
000020  01c08041          DCB      0x01,0xc0,0x80,0x41
000024  00c18140          DCB      0x00,0xc1,0x81,0x40
000028  00c18140          DCB      0x00,0xc1,0x81,0x40
00002c  01c08041          DCB      0x01,0xc0,0x80,0x41
000030  00c18140          DCB      0x00,0xc1,0x81,0x40
000034  01c08041          DCB      0x01,0xc0,0x80,0x41
000038  01c08041          DCB      0x01,0xc0,0x80,0x41
00003c  00c18140          DCB      0x00,0xc1,0x81,0x40
000040  01c08041          DCB      0x01,0xc0,0x80,0x41
000044  00c18140          DCB      0x00,0xc1,0x81,0x40
000048  00c18140          DCB      0x00,0xc1,0x81,0x40
00004c  01c08041          DCB      0x01,0xc0,0x80,0x41
000050  00c18140          DCB      0x00,0xc1,0x81,0x40
000054  01c08041          DCB      0x01,0xc0,0x80,0x41
000058  01c08041          DCB      0x01,0xc0,0x80,0x41
00005c  00c18140          DCB      0x00,0xc1,0x81,0x40
000060  00c18140          DCB      0x00,0xc1,0x81,0x40
000064  01c08041          DCB      0x01,0xc0,0x80,0x41
000068  01c08041          DCB      0x01,0xc0,0x80,0x41
00006c  00c18140          DCB      0x00,0xc1,0x81,0x40
000070  01c08041          DCB      0x01,0xc0,0x80,0x41
000074  00c18140          DCB      0x00,0xc1,0x81,0x40
000078  00c18140          DCB      0x00,0xc1,0x81,0x40
00007c  01c08041          DCB      0x01,0xc0,0x80,0x41
000080  01c08041          DCB      0x01,0xc0,0x80,0x41
000084  00c18140          DCB      0x00,0xc1,0x81,0x40
000088  00c18140          DCB      0x00,0xc1,0x81,0x40
00008c  01c08041          DCB      0x01,0xc0,0x80,0x41
000090  00c18140          DCB      0x00,0xc1,0x81,0x40
000094  01c08041          DCB      0x01,0xc0,0x80,0x41
000098  01c08041          DCB      0x01,0xc0,0x80,0x41
00009c  00c18140          DCB      0x00,0xc1,0x81,0x40
0000a0  00c18140          DCB      0x00,0xc1,0x81,0x40
0000a4  01c08041          DCB      0x01,0xc0,0x80,0x41
0000a8  01c08041          DCB      0x01,0xc0,0x80,0x41
0000ac  00c18140          DCB      0x00,0xc1,0x81,0x40
0000b0  01c08041          DCB      0x01,0xc0,0x80,0x41
0000b4  00c18140          DCB      0x00,0xc1,0x81,0x40
0000b8  00c18140          DCB      0x00,0xc1,0x81,0x40
0000bc  01c08041          DCB      0x01,0xc0,0x80,0x41
0000c0  00c18140          DCB      0x00,0xc1,0x81,0x40
0000c4  01c08041          DCB      0x01,0xc0,0x80,0x41
0000c8  01c08041          DCB      0x01,0xc0,0x80,0x41
0000cc  00c18140          DCB      0x00,0xc1,0x81,0x40
0000d0  01c08041          DCB      0x01,0xc0,0x80,0x41
0000d4  00c18140          DCB      0x00,0xc1,0x81,0x40
0000d8  00c18140          DCB      0x00,0xc1,0x81,0x40
0000dc  01c08041          DCB      0x01,0xc0,0x80,0x41
0000e0  01c08041          DCB      0x01,0xc0,0x80,0x41
0000e4  00c18140          DCB      0x00,0xc1,0x81,0x40
0000e8  00c18140          DCB      0x00,0xc1,0x81,0x40
0000ec  01c08041          DCB      0x01,0xc0,0x80,0x41
0000f0  00c18140          DCB      0x00,0xc1,0x81,0x40
0000f4  01c08041          DCB      0x01,0xc0,0x80,0x41
0000f8  01c08041          DCB      0x01,0xc0,0x80,0x41
0000fc  00c18140          DCB      0x00,0xc1,0x81,0x40
                  auchCRCLo
000100  00c0c101          DCB      0x00,0xc0,0xc1,0x01
000104  c30302c2          DCB      0xc3,0x03,0x02,0xc2
000108  c60607c7          DCB      0xc6,0x06,0x07,0xc7
00010c  05c5c404          DCB      0x05,0xc5,0xc4,0x04
000110  cc0c0dcd          DCB      0xcc,0x0c,0x0d,0xcd
000114  0fcfce0e          DCB      0x0f,0xcf,0xce,0x0e
000118  0acacb0b          DCB      0x0a,0xca,0xcb,0x0b
00011c  c90908c8          DCB      0xc9,0x09,0x08,0xc8
000120  d81819d9          DCB      0xd8,0x18,0x19,0xd9
000124  1bdbda1a          DCB      0x1b,0xdb,0xda,0x1a
000128  1ededf1f          DCB      0x1e,0xde,0xdf,0x1f
00012c  dd1d1cdc          DCB      0xdd,0x1d,0x1c,0xdc
000130  14d4d515          DCB      0x14,0xd4,0xd5,0x15
000134  d71716d6          DCB      0xd7,0x17,0x16,0xd6
000138  d21213d3          DCB      0xd2,0x12,0x13,0xd3
00013c  11d1d010          DCB      0x11,0xd1,0xd0,0x10
000140  f03031f1          DCB      0xf0,0x30,0x31,0xf1
000144  33f3f232          DCB      0x33,0xf3,0xf2,0x32
000148  36f6f737          DCB      0x36,0xf6,0xf7,0x37
00014c  f53534f4          DCB      0xf5,0x35,0x34,0xf4
000150  3cfcfd3d          DCB      0x3c,0xfc,0xfd,0x3d
000154  ff3f3efe          DCB      0xff,0x3f,0x3e,0xfe
000158  fa3a3bfb          DCB      0xfa,0x3a,0x3b,0xfb
00015c  39f9f838          DCB      0x39,0xf9,0xf8,0x38
000160  28e8e929          DCB      0x28,0xe8,0xe9,0x29
000164  eb2b2aea          DCB      0xeb,0x2b,0x2a,0xea
000168  ee2e2fef          DCB      0xee,0x2e,0x2f,0xef
00016c  2dedec2c          DCB      0x2d,0xed,0xec,0x2c
000170  e42425e5          DCB      0xe4,0x24,0x25,0xe5
000174  27e7e626          DCB      0x27,0xe7,0xe6,0x26
000178  22e2e323          DCB      0x22,0xe2,0xe3,0x23
00017c  e12120e0          DCB      0xe1,0x21,0x20,0xe0
000180  a06061a1          DCB      0xa0,0x60,0x61,0xa1
000184  63a3a262          DCB      0x63,0xa3,0xa2,0x62
000188  66a6a767          DCB      0x66,0xa6,0xa7,0x67
00018c  a56564a4          DCB      0xa5,0x65,0x64,0xa4
000190  6cacad6d          DCB      0x6c,0xac,0xad,0x6d
000194  af6f6eae          DCB      0xaf,0x6f,0x6e,0xae
000198  aa6a6bab          DCB      0xaa,0x6a,0x6b,0xab
00019c  69a9a868          DCB      0x69,0xa9,0xa8,0x68
0001a0  78b8b979          DCB      0x78,0xb8,0xb9,0x79
0001a4  bb7b7aba          DCB      0xbb,0x7b,0x7a,0xba
0001a8  be7e7fbf          DCB      0xbe,0x7e,0x7f,0xbf
0001ac  7dbdbc7c          DCB      0x7d,0xbd,0xbc,0x7c
0001b0  b47475b5          DCB      0xb4,0x74,0x75,0xb5
0001b4  77b7b676          DCB      0x77,0xb7,0xb6,0x76
0001b8  72b2b373          DCB      0x72,0xb2,0xb3,0x73
0001bc  b17170b0          DCB      0xb1,0x71,0x70,0xb0
0001c0  50909151          DCB      0x50,0x90,0x91,0x51
0001c4  93535292          DCB      0x93,0x53,0x52,0x92
0001c8  96565797          DCB      0x96,0x56,0x57,0x97
0001cc  55959454          DCB      0x55,0x95,0x94,0x54
0001d0  9c5c5d9d          DCB      0x9c,0x5c,0x5d,0x9d
0001d4  5f9f9e5e          DCB      0x5f,0x9f,0x9e,0x5e
0001d8  5a9a9b5b          DCB      0x5a,0x9a,0x9b,0x5b
0001dc  99595898          DCB      0x99,0x59,0x58,0x98
0001e0  88484989          DCB      0x88,0x48,0x49,0x89
0001e4  4b8b8a4a          DCB      0x4b,0x8b,0x8a,0x4a
0001e8  4e8e8f4f          DCB      0x4e,0x8e,0x8f,0x4f
0001ec  8d4d4c8c          DCB      0x8d,0x4d,0x4c,0x8c
0001f0  44848545          DCB      0x44,0x84,0x85,0x45
0001f4  87474686          DCB      0x87,0x47,0x46,0x86
0001f8  82424383          DCB      0x82,0x42,0x43,0x83
0001fc  41818040          DCB      0x41,0x81,0x80,0x40

                          AREA ||.data||, DATA, ALIGN=0

                  socket_tcp
000000  00                DCB      0x00
                  bOK
000001  00                DCB      0x00
                  btValue
000002  0000              DCB      0x00,0x00
000004  000000            DCB      0x00,0x00,0x00

;*** Start embedded assembler ***

#line 1 "..\\..\\User\\libapp\\app_tcpnet_lib.c"
	AREA ||.rev16_text||, CODE
	THUMB
	EXPORT |__asm___16_app_tcpnet_lib_c_171d0f2a____REV16|
#line 129 "..\\..\\Libraries\\CMSIS\\Include\\core_cmInstr.h"
|__asm___16_app_tcpnet_lib_c_171d0f2a____REV16| PROC
#line 130

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE
	THUMB
	EXPORT |__asm___16_app_tcpnet_lib_c_171d0f2a____REVSH|
#line 144
|__asm___16_app_tcpnet_lib_c_171d0f2a____REVSH| PROC
#line 145

 revsh r0, r0
 bx lr
	ENDP
	AREA ||.rrx_text||, CODE
	THUMB
	EXPORT |__asm___16_app_tcpnet_lib_c_171d0f2a____RRX|
#line 300
|__asm___16_app_tcpnet_lib_c_171d0f2a____RRX| PROC
#line 301

 rrx r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
